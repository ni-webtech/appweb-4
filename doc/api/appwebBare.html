<h1>Appweb Native API</h1>
<a name="Components"></a><h1>Components</h1>
  <table class="apiIndex" summary="Components">
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_alias" class="nameRef">MaAlias</a></td>
<td class="apiBrief">Aliases.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_auth" class="nameRef">MaAuth</a></td>
<td class="apiBrief">Authorization The MaAuth struct is the foundation authorization object and is used as base class by MaDirectory and MaLocation.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_config_state" class="nameRef">MaConfigState</a></td>
<td class="apiBrief">Current config parse state.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_conn" class="nameRef">MaConn</a></td>
<td class="apiBrief">Http Connections.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_dir" class="nameRef">MaDir</a></td>
<td class="apiBrief">Directory Control.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_filter" class="nameRef">MaFilter</a></td>
<td class="apiBrief">Filter Stages.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_host" class="nameRef">MaHost</a></td>
<td class="apiBrief">Host Object A Host object represents a single listening HTTP connection endpoint.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_host_address" class="nameRef">MaHostAddress</a></td>
<td class="apiBrief">Host Address Mapping.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_http" class="nameRef">MaHttp</a></td>
<td class="apiBrief">Http Service.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_limits" class="nameRef">MaLimits</a></td>
<td class="apiBrief">Server limits.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_listen" class="nameRef">MaListen</a></td>
<td class="apiBrief">Listen endpoint.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_location" class="nameRef">MaLocation</a></td>
<td class="apiBrief">Location Control.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_mime_type" class="nameRef">MaMimeType</a></td>
<td class="apiBrief">Mime Type hash table entry (the URL extension is the key).</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_packet" class="nameRef">MaPacket</a></td>
<td class="apiBrief">Data packet.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_queue" class="nameRef">MaQueue</a></td>
<td class="apiBrief">Queue Head.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_range" class="nameRef">MaRange</a></td>
<td class="apiBrief">Content range structure.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_request" class="nameRef">MaRequest</a></td>
<td class="apiBrief">Http Requests.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_response" class="nameRef">MaResponse</a></td>
<td class="apiBrief">Http Response.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_server" class="nameRef">MaServer</a></td>
<td class="apiBrief">Http Server Control An application may have any number of HTTP servers, each managed by an instance of the Server class.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_stage" class="nameRef">MaStage</a></td>
<td class="apiBrief">Pipeline Stages.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___ma_upload_file" class="nameRef">MaUploadFile</a></td>
<td class="apiBrief">Upload File Each uploaded file has an MaUploadedFile entry.</td></tr>
</table>
<a name="Functions"></a><h1>Functions</h1>
  <table class="apiIndex" summary="Functions">
<tr class="apiDef">
<td class="apiType"><a href="#group___ma_http" class="ref">MaHttp*</a></td><td><a href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b" class="nameRef">maCreateHttp</a>(MprCtx ctx)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create the MaHttp object.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_http_1gd322e4287ec638e3869ac192335402c1" class="nameRef">maSetHttpGroup</a>(<a href="#group___ma_http" class="ref">MaHttp</a> *http,  cchar *group)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Set the Http Group.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_http_1gd7b13f28a9c589585154397837fa2580" class="nameRef">maSetHttpUser</a>(<a href="#group___ma_http" class="ref">MaHttp</a> *http,  cchar *user)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Set the Http User.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_http_1g99ce78ac41ef6ff1d91a89ff832e0e09" class="nameRef">maStartHttp</a>(<a href="#group___ma_http" class="ref">MaHttp</a> *http)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Start Http services.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_http_1gcf91964d3b2b00dc63e2a4daffc0c723" class="nameRef">maStopHttp</a>(<a href="#group___ma_http" class="ref">MaHttp</a> *http)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Stop Http services.</td></tr>
<tr class="apiDef">
<td class="apiType"><a href="#group___ma_packet" class="ref">MaPacket*</a></td><td><a href="#group___ma_packet_1g5df1a8ee94fca1ff1aa9576abc429b85" class="nameRef">maCreateDataPacket</a>(MprCtx ctx,  int size)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create a data packet.</td></tr>
<tr class="apiDef">
<td class="apiType"><a href="#group___ma_packet" class="ref">MaPacket*</a></td><td><a href="#group___ma_packet_1gf6e524d50d35ee9f7095e85a2c5f7b0c" class="nameRef">maCreateEndPacket</a>(MprCtx ctx)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create an end packet.</td></tr>
<tr class="apiDef">
<td class="apiType"><a href="#group___ma_packet" class="ref">MaPacket*</a></td><td><a href="#group___ma_packet_1gc4d07f426450d99470479ce71db99803" class="nameRef">maCreateHeaderPacket</a>(MprCtx ctx)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create a response header packet.</td></tr>
<tr class="apiDef">
<td class="apiType"><a href="#group___ma_packet" class="ref">MaPacket*</a></td><td><a href="#group___ma_packet_1ge7a1cc0bbf598580bd1ad8a166a9ba82" class="nameRef">maCreatePacket</a>(MprCtx ctx,  int size)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create a data packet.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_packet_1g3fbb007c176ea20c68c675bd8dde4efd" class="nameRef">maGetPacketLength</a>(<a href="#group___ma_packet" class="ref">MaPacket</a> *packet)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Get the length of the packet data contents.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_packet_1gcfdb85fc6850462b81db3e1da730d2b6" class="nameRef">maJoinPacket</a>(<a href="#group___ma_packet" class="ref">MaPacket</a> *packet,  MaPacket *other)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Join tow packets.</td></tr>
<tr class="apiDef">
<td class="apiType"><a href="#group___ma_packet" class="ref">MaPacket*</a></td><td><a href="#group___ma_packet_1g1f03b26ceb37a67946c136a31efb2bf6" class="nameRef">maSplitPacket</a>(struct MaConn *conn,  MaPacket *packet,  int offset)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Split a data packet.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="nameRef">maDisableQueue</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Disable a queue.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="nameRef">maDiscardData</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q,  bool removePackets)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Discard all data from the queue.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="nameRef">maEnableQueue</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Enable a queue.</td></tr>
<tr class="apiDef">
<td class="apiType"><a href="#group___ma_packet" class="ref">MaPacket*</a></td><td><a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="nameRef">maGet</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Get the next packet from a queue.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="nameRef">maGetQueueRoom</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Get the room in the queue.</td></tr>
<tr class="apiDef">
<td class="apiType">bool</td><td><a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="nameRef">maIsQueueEmpty</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Determine if the queue is empty.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="nameRef">maJoinForService</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q,  MaPacket *packet,  bool serviceQ)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Join a packet onto the service queue.</td></tr>
<tr class="apiDef">
<td class="apiType">bool</td><td><a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="nameRef">maPacketTooBig</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q,  MaPacket *packet)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Test if a packet is too big.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="nameRef">maPut</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q,  MaPacket *packet)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Put a packet onto a queue.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="nameRef">maPutBack</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q,  MaPacket *packet)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Put a packet back onto a queue.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="nameRef">maPutForService</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q,  MaPacket *packet,  bool serviceQ)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Put a packet onto the service queue.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="nameRef">maPutNext</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q,  MaPacket *packet)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Put a packet onto the next queue.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="nameRef">maRemoveQueue</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Remove a queue.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="nameRef">maResizePacket</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q,  MaPacket *packet,  int size)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Resize a packet.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="nameRef">maScheduleQueue</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Schedule a queue.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="nameRef">maSendEndPacket</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Send an end packet.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="nameRef">maSendPackets</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Send all queued packets.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="nameRef">maServiceQueue</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Service a queue.</td></tr>
<tr class="apiDef">
<td class="apiType">bool</td><td><a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="nameRef">maWillNextQueueAccept</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q,  MaPacket *packet)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Determine if the downstream queue will accept this packet.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="nameRef">maWrite</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q,  cchar *fmt, ...)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Write a formatted string.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="nameRef">maWriteBlock</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q,  cchar *buf,  int size,  bool block)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Write a block of data to the queue.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="nameRef">maWriteString</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q,  cchar *s)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Write a string of data to the queue.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_request_1g84747a5a50d80576d3c24fe917ef3583" class="nameRef">maAddVars</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  cchar *buf,  int len)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Add query and post form variables.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_request_1g37f287f2db074d1f53cd14c4d041f0b5" class="nameRef">maCompareFormVar</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  cchar *var,  cchar *value)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Compare a form variable.</td></tr>
<tr class="apiDef">
<td class="apiType">cchar*</td><td><a href="#group___ma_request_1gfabbafae1edfe71c6961fb7b3517a555" class="nameRef">maGetCookies</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Get the cookies.</td></tr>
<tr class="apiDef">
<td class="apiType">cchar*</td><td><a href="#group___ma_request_1g8ebdb53755a8a2af8b14b9739ed458f9" class="nameRef">maGetFormVar</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  cchar *var,  cchar *defaultValue)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Get a form variable.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_request_1g47566765cffb453045d103b07a3ffdc6" class="nameRef">maGetIntFormVar</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  cchar *var,  int defaultValue)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Get a form variable as an integer.</td></tr>
<tr class="apiDef">
<td class="apiType">cchar*</td><td><a href="#group___ma_request_1gbc322b0f9a0cd9736e63fb5996966d55" class="nameRef">maGetQueryString</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Get the request query string.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_request_1g8ea727d5e958015dbeeffeeceb6e5be0" class="nameRef">maSetFormVar</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  cchar *var,  cchar *value)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Set a form variable value.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_request_1g5de91ec793b3a728c142c017f89c8310" class="nameRef">maSetIntFormVar</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  cchar *var,  int value)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Set a form variable value.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_request_1gc0ca4ed4a140bb47717430c890c070d6" class="nameRef">maTestFormVar</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  cchar *var)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Test if a form variable is defined.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_response_1g0fc2e324e7bc07b0cbbfe41e6f8bd32e" class="nameRef">maDontCacheResponse</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Dont cache the response.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_response_1g830c559dddc9e24c5e9ef7ab6d9c8a15" class="nameRef">maFailRequest</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  int code,  cchar *fmt, ...)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Fail a request.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_response_1g36d93becc818990d715d265f48bb427a" class="nameRef">maFillHeaders</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  MaPacket *packet)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create the response headers.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_response_1g57da0308eae17e287c9cc1dbfaed24c3" class="nameRef">maFormatBody</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  cchar *title,  cchar *fmt, ...)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Format an alternate response body.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_response_1g1f571cb3b688c6e44d4107b77fceac67" class="nameRef">maRedirect</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  int code,  cchar *uri)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Redirect the client.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_response_1g56dd2599b39e1252d66057444f75841b" class="nameRef">maSetCookie</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  cchar *name,  cchar *value,  cchar *path,  cchar *domain,  int lifetime,  bool secure)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Set a response cookie.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_response_1ga27b43bad295e5f928fe2f8e5878cf42" class="nameRef">maSetHeader</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  bool allowMultiple,  cchar *key,  cchar *fmt, ...)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Set a response header.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_response_1gb822baf3fa6b7b3d8f68ec858a3fd65c" class="nameRef">maSetResponseCode</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  int code)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Set a Http response code.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_response_1g63f6f2038aca9e41d71e99a00f880f6d" class="nameRef">maSetResponseMimeType</a>(<a href="#group___ma_conn" class="ref">MaConn</a> *conn,  cchar *mimeType)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Set the response mime type.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_server_1gcf1e50889d272eb52266be2b5f0705b9" class="nameRef">maConfigureServer</a>(MprCtx ctx,  MaHttp *http,  MaServer *server,  cchar *configFile,  cchar *ipAddr,  int port,  cchar *documentRoot)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Configure a web server.</td></tr>
<tr class="apiDef">
<td class="apiType"><a href="#group___ma_server" class="ref">MaServer*</a></td><td><a href="#group___ma_server_1g0923ebd7f71a2f83ca9fa87509acd6b8" class="nameRef">maCreateServer</a>(<a href="#group___ma_http" class="ref">MaHttp</a> *http,  cchar *name,  cchar *root,  cchar *ipAddr,  int port)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create a MaServer object.</td></tr>
<tr class="apiDef">
<td class="apiType"><a href="#group___ma_http" class="ref">MaHttp*</a></td><td><a href="#group___ma_server_1geedb92f8e2d67d6c9a4648bbd8b4eb37" class="nameRef">maCreateWebServer</a>(cchar *configFile)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create a web server.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_server_1g64ceb8a0ea7251a2a2bfdec72586d914" class="nameRef">maLoadStaticModules</a>(<a href="#group___ma_http" class="ref">MaHttp</a> *http)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Load static modules.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_server_1g6c073bcc4ac2c9f8333a42d3ff4555b4" class="nameRef">maRunSimpleWebServer</a>(cchar *ipAddress,  int port,  cchar *docRoot)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create and run a simple web server listening on a single IP address.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_server_1g4994c273e87409b094418dd7bd370ee4" class="nameRef">maRunWebServer</a>(cchar *configFile)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create and run a web server based on a configuration file.</td></tr>
<tr class="apiDef">
<td class="apiType">int</td><td><a href="#group___ma_server_1g8bdc0c3f12fd140a4483f44ef2280697" class="nameRef">maServiceWebServer</a>(<a href="#group___ma_http" class="ref">MaHttp</a> *http)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Service a web server.</td></tr>
<tr class="apiDef">
<td class="apiType"><a href="#group___ma_stage" class="ref">MaStage*</a></td><td><a href="#group___ma_stage_1gae8a1d46596ad3b2d5cab64cdb990bea" class="nameRef">maCreateConnector</a>(<a href="#group___ma_http" class="ref">MaHttp</a> *http,  cchar *name,  int flags)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create a connector stage.</td></tr>
<tr class="apiDef">
<td class="apiType"><a href="#group___ma_stage" class="ref">MaStage*</a></td><td><a href="#group___ma_stage_1g76649359285602dad41f06296ea202ee" class="nameRef">maCreateFilter</a>(<a href="#group___ma_http" class="ref">MaHttp</a> *http,  cchar *name,  int flags)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create a filter stage.</td></tr>
<tr class="apiDef">
<td class="apiType"><a href="#group___ma_stage" class="ref">MaStage*</a></td><td><a href="#group___ma_stage_1ga36718a34d0b490721e8df7eb924bcda" class="nameRef">maCreateHandler</a>(<a href="#group___ma_http" class="ref">MaHttp</a> *http,  cchar *name,  int flags)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create a request handler stage.</td></tr>
<tr class="apiDef">
<td class="apiType">void</td><td><a href="#group___ma_stage_1gf1099e94d48dd7c2e28cf817ad154001" class="nameRef">maDefaultOutgoingServiceStage</a>(<a href="#group___ma_queue" class="ref">MaQueue</a> *q)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Default outgoing data handling.</td></tr>
<tr class="apiDef">
<td class="apiType">void*</td><td><a href="#group___ma_stage_1g8816a886d780811924ca6c1bb076a122" class="nameRef">maLookupStageData</a>(<a href="#group___ma_http" class="ref">MaHttp</a> *http,  cchar *name)</td></tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Lookup stage data.</td></tr>
</table>
<a name="Typedefs"></a><h1>Typedefs</h1>
<table class="apiIndex" summary="typedefs">
</table>
<a name="Defines"></a><h1>Defines</h1>
<table class="apiIndex" summary="Defines">
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_127283ab78623d9cea7327842e861d46d" class="nameRef">_h_APPWEB_MONITOR</a>&nbsp;&nbsp;&nbsp;1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>appwebMonitor.h - Monitor Header.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1f47a316400444082dd3b769b1af1b597" class="nameRef">_h_HTTP_TUNE</a>&nbsp;&nbsp;&nbsp;1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>httpTune.h - Tunable parameters for the Embedthis Http Web Server.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_125a1d7d9556cff9f084103022bf555e2" class="nameRef">MA_BUFSIZE</a>&nbsp;&nbsp;&nbsp;(4 * 1024)</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Default I/O buffer size.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_13f432000e658d339adffa7f69a79c670" class="nameRef">MA_CGI_PERIOD</a>&nbsp;&nbsp;&nbsp;20</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>CGI poll period (only for windows).</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_16cdabe7cf2d4166e8993a55825c6f025" class="nameRef">MA_CGI_TIMEOUT</a>&nbsp;&nbsp;&nbsp;4000</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Time to wait to reap exit status.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1239c6f14ce08c55a403bc0cbd2150098" class="nameRef">MA_CHUNK_DATA</a>&nbsp;&nbsp;&nbsp;2</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Start of chunk data.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_18695203187d2267a6f04a694fef4e822" class="nameRef">MA_CHUNK_EOF</a>&nbsp;&nbsp;&nbsp;3</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>End of last chunk.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_10e55d2860c740c51e83afa1b001b2ef5" class="nameRef">MA_CHUNK_START</a>&nbsp;&nbsp;&nbsp;1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Start of a new chunk.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1699f9a11a5e7da1920ce7689f9fd7706" class="nameRef">MA_CONN_CASE_INSENSITIVE</a>&nbsp;&nbsp;&nbsp;0x2</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>System case-insensitive for file matches.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_133c3d5f060d227910b1c15a1e58da316" class="nameRef">MA_CONN_CLEAN_MASK</a>&nbsp;&nbsp;&nbsp;0x1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Mask to clear flags after a request completes.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_18d43e5aaff323495428fed541b93f652" class="nameRef">MA_CONN_CLOSE</a>&nbsp;&nbsp;&nbsp;0x1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Connection needs to be closed.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_149b8ee6658949df5bf0623acaf49ec63" class="nameRef">MA_CONN_PIPE_CREATED</a>&nbsp;&nbsp;&nbsp;0x4</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Request pipeline created.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1eac6460cd9403add1e0a53d90ffaa1a7" class="nameRef">MA_DEFAULT_MAX_THREADS</a>&nbsp;&nbsp;&nbsp;10</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Default number of threads.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1c8bac0013523419bb0abbeaad45387b3" class="nameRef">MA_KEEP_TIMEOUT</a>&nbsp;&nbsp;&nbsp;60000</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Keep connection alive timeout.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1545cfe94dbc94c44fe08456509de253c" class="nameRef">MA_LOC_APP</a>&nbsp;&nbsp;&nbsp;0x2</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Location defines an application.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1c8043ca45b7f57789fd5187faf446ccc" class="nameRef">MA_LOC_APP_DIR</a>&nbsp;&nbsp;&nbsp;0x4</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Location defines a directory of applications.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_196644d0a37d812837563266baaf5706e" class="nameRef">MA_LOC_AUTO_SESSION</a>&nbsp;&nbsp;&nbsp;0x8</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Auto create sessions in this location.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_103a7e4b186b366807526681564008450" class="nameRef">MA_LOC_BROWSER</a>&nbsp;&nbsp;&nbsp;0x10</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Send errors back to the browser for this location.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1ed058fafbfe78d54839d2a59c2f7d095" class="nameRef">MA_LOC_PUT_DELETE</a>&nbsp;&nbsp;&nbsp;0x20</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Support PUT|DELETE.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_10f3ef26669049854a44cb4febd5a9d06" class="nameRef">MA_MAX_ACCESS_LOG</a>&nbsp;&nbsp;&nbsp;(20971520)</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Access file size (20 MB).</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_152364546b949fcaf75bb40e934f29c1f" class="nameRef">MA_MAX_IOVEC</a>&nbsp;&nbsp;&nbsp;16</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Number of fragments in a single socket write.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_120328e8b6eacee90bb3a506b8f491c91" class="nameRef">MA_MAX_KEEP_ALIVE</a>&nbsp;&nbsp;&nbsp;100</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Default requests per TCP conn.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1a7a8ee6473446c525d643feffba2c037" class="nameRef">MA_MAX_PASS</a>&nbsp;&nbsp;&nbsp;64</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Size of password.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1f28663b2458b0b86cf70763bb4622202" class="nameRef">MA_MAX_QUEUE</a>&nbsp;&nbsp;&nbsp;2</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Number of queue types.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_19773e29ac4a423647aadde791bba68e7" class="nameRef">MA_MAX_SECRET</a>&nbsp;&nbsp;&nbsp;32</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Number of random bytes to use.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1c6ad5eefa64a10298a2c7a00de1bc19a" class="nameRef">MA_MAX_STAGE_BUFFER</a>&nbsp;&nbsp;&nbsp;(4 * 1024)</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Max buffer for any stage.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1d5ffe0178d524f1420a84d7d3df98e74" class="nameRef">MA_MIN_PACKET</a>&nbsp;&nbsp;&nbsp;512</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Minimum packet size.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_18f21599a9d05221f61cfb0bbee244864" class="nameRef">MA_PACKET_DATA</a>&nbsp;&nbsp;&nbsp;0x4</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Packet contains actual content data.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_15b4fd0da2a2a6ae8fbecd54ddaa51e11" class="nameRef">MA_PACKET_END</a>&nbsp;&nbsp;&nbsp;0x8</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>End of stream packet.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_174b84529ce986b14e162b795bec5bf39" class="nameRef">MA_PACKET_HEADER</a>&nbsp;&nbsp;&nbsp;0x1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Packet contains HTTP headers.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_19e8b9379056899298f18eda698c05fa4" class="nameRef">MA_PACKET_RANGE</a>&nbsp;&nbsp;&nbsp;0x2</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Packet is a range boundary packet.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1a51c1f68e3b21361f47963e481ae7d62" class="nameRef">MA_QUEUE_ALL</a>&nbsp;&nbsp;&nbsp;0x8</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Queue has all the data there is and will be.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1a7a68575bb5d8b1e00f06b2947acd2cb" class="nameRef">MA_QUEUE_DISABLED</a>&nbsp;&nbsp;&nbsp;0x2</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Queue&apos;s service routine is disabled.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_188ef5feffd156c384576b43fca44a104" class="nameRef">MA_QUEUE_EOF</a>&nbsp;&nbsp;&nbsp;0x20</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Queue at end of data.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1bc47cb10b56ccdb12103088794018e6e" class="nameRef">MA_QUEUE_FULL</a>&nbsp;&nbsp;&nbsp;0x4</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Queue is full.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1cbc161266d4203ef798c36733ea4a84c" class="nameRef">MA_QUEUE_OPEN</a>&nbsp;&nbsp;&nbsp;0x1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Queue&apos;s open routine has been called.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_112bcb640be3029c77e3918c744cb81d0" class="nameRef">MA_QUEUE_RECEIVE</a>&nbsp;&nbsp;&nbsp;1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Receive (read from client) queue.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_15d91b3ba7a016bca6ffe3ebebaf6cb4b" class="nameRef">MA_QUEUE_SEND</a>&nbsp;&nbsp;&nbsp;0</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Send (transmit to client) queue.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_16ae0b4356dfe7015b78bf496538144bb" class="nameRef">MA_QUEUE_SERVICED</a>&nbsp;&nbsp;&nbsp;0x10</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Queue has been serviced at least once.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_151bb212ca2764947781fb395d98788c2" class="nameRef">MA_REQ_CHUNKED</a>&nbsp;&nbsp;&nbsp;0x4</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Content is chunk encoded.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1b3a9658abd1e6cd666d5a490abffc30f" class="nameRef">MA_REQ_CREATE_ENV</a>&nbsp;&nbsp;&nbsp;0x1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Must create env for this request.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_155befc89d8ed41ab1df055383a765af6" class="nameRef">MA_REQ_DELETE</a>&nbsp;&nbsp;&nbsp;0x1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>DELETE method.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1253eacc596aceb826da433d13f26d0da" class="nameRef">MA_REQ_GET</a>&nbsp;&nbsp;&nbsp;0x2</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>GET method.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_19602572e8ecea17bbd916ddf8024ee08" class="nameRef">MA_REQ_HEAD</a>&nbsp;&nbsp;&nbsp;0x4</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>HEAD method.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1b04005362aaf5e6c7354707eb4221067" class="nameRef">MA_REQ_IF_MODIFIED</a>&nbsp;&nbsp;&nbsp;0x2</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>If-[un]modified-since supplied.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1db5aff169a9cf7a72d2bd3c758365e7f" class="nameRef">MA_REQ_MASK</a>&nbsp;&nbsp;&nbsp;0x7F</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Method mask.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1dbd4f204c27ef7537bcc41a3aace2438" class="nameRef">MA_REQ_MEM</a>&nbsp;&nbsp;&nbsp;((1 * 1024 * 1024) - MPR_HEAP_OVERHEAD)</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Initial virt memory arena size.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_10c89b33596257e5cfd8ef3a76aaf3e88" class="nameRef">MA_REQ_OPTIONS</a>&nbsp;&nbsp;&nbsp;0x8</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>OPTIONS method.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_117e6c8e5322432a725fa971b865a4c83" class="nameRef">MA_REQ_POST</a>&nbsp;&nbsp;&nbsp;0x10</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Post method.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_19c920e20c731650668475747e4cd6df5" class="nameRef">MA_REQ_PUT</a>&nbsp;&nbsp;&nbsp;0x20</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>PUT method.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_163260dfe196cee5bb368acd9b8707aac" class="nameRef">MA_REQ_TRACE</a>&nbsp;&nbsp;&nbsp;0x40</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>TRACE method.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1220057fa58cd7b24bccbdc8c36e9635a" class="nameRef">MA_RESP_DONT_CACHE</a>&nbsp;&nbsp;&nbsp;0x1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Add no-cache to the response.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1142b969211933620dfca8258be2191f0" class="nameRef">MA_RESP_DONT_FINISH</a>&nbsp;&nbsp;&nbsp;0x2</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Don&apos;t auto finish the request.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_181caa8632dae798851ee15efd6f05ce0" class="nameRef">MA_RESP_HEADERS_CREATED</a>&nbsp;&nbsp;&nbsp;0x8</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Response headers have been created.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1ca96091b5e9fbb3bc6b8f3a48c05bca0" class="nameRef">MA_RESP_NO_BODY</a>&nbsp;&nbsp;&nbsp;0x4</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>No respose body, only return headers to client.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1cec169373fc05dd94f73332a642796fd" class="nameRef">MA_STAGE_ALL</a>&nbsp;&nbsp;&nbsp;MA_REQ_MASK</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Mask for all methods.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1978ffa71a28db323e212c569db039101" class="nameRef">MA_STAGE_AUTO_DIR</a>&nbsp;&nbsp;&nbsp;0x100000</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Want auto directory redirection.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1ba2e4032526f2a36037b4bcca4102c30" class="nameRef">MA_STAGE_CONNECTOR</a>&nbsp;&nbsp;&nbsp;0x1000</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Stage is a connector.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1acac6ae0f37e9f2e71e6067c71616b65" class="nameRef">MA_STAGE_DELETE</a>&nbsp;&nbsp;&nbsp;MA_REQ_DELETE</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Support DELETE requests.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1c2f0a6aa232d4760e646e39acabce50c" class="nameRef">MA_STAGE_ENV_VARS</a>&nbsp;&nbsp;&nbsp;0x20000</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create CGI style environment variables table.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_14cc7ff3320e567408823b91568b9c86f" class="nameRef">MA_STAGE_FILTER</a>&nbsp;&nbsp;&nbsp;0x4000</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Stage is a filter.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1bd8aa281f53b2a477cbc11b34bff82e3" class="nameRef">MA_STAGE_GET</a>&nbsp;&nbsp;&nbsp;MA_REQ_GET</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Support GET requests.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1060c7082cbd6bbfa28c825731e27aece" class="nameRef">MA_STAGE_HANDLER</a>&nbsp;&nbsp;&nbsp;0x2000</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Stage is a handler.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1962d87fcf2d6e1681dd33bad2c0b5f5d" class="nameRef">MA_STAGE_HEAD</a>&nbsp;&nbsp;&nbsp;MA_REQ_HEAD</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Support HEAD requests.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_175aba34c3d537aba57e8fbb5ab9210a8" class="nameRef">MA_STAGE_MODULE</a>&nbsp;&nbsp;&nbsp;0x8000</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Stage is a filter.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1bb9d2eb47c90fe8d9abe0da126621ccc" class="nameRef">MA_STAGE_OPTIONS</a>&nbsp;&nbsp;&nbsp;MA_REQ_OPTIONS</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Support OPTIONS requests.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_19690c485a2d420505c0936d615311f0a" class="nameRef">MA_STAGE_PATH_INFO</a>&nbsp;&nbsp;&nbsp;0x80000</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Always do path info processing.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_16579a5a927a6a3f20df5958446543e54" class="nameRef">MA_STAGE_POST</a>&nbsp;&nbsp;&nbsp;MA_REQ_POST</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Support POST requests.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_157a277e8a159a6290161b18c0d8f1258" class="nameRef">MA_STAGE_PUT</a>&nbsp;&nbsp;&nbsp;MA_REQ_PUT</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Support PUT requests.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_1d8ad92d0dc2ce87563e5ccf5a228b711" class="nameRef">MA_STAGE_TRACE</a>&nbsp;&nbsp;&nbsp;MA_REQ_TRACE</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Support TRACE requests.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_171a3ea26f6f1b5caa2819a61425b6c20" class="nameRef">MA_STAGE_VARS</a>&nbsp;&nbsp;&nbsp;0x10000</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Create query and form variables table.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_197a2c9a0709db5310d5e9a7186c53436" class="nameRef">MA_STAGE_VERIFY_ENTITY</a>&nbsp;&nbsp;&nbsp;0x200000</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Verify the request entity exists.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_17452aa8a6ea4eee05ca10219cfc4def0" class="nameRef">MA_STAGE_VIRTUAL</a>&nbsp;&nbsp;&nbsp;0x40000</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Handler serves virtual resources not the physical file system.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#appweb_8h_153f963e7f50694934dda555c19d2391e" class="nameRef">MA_TIMER_PERIOD</a>&nbsp;&nbsp;&nbsp;1000</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Timer checks ever 1 second.</td></tr>
  </table>
<h1>MaAlias</h1>
<a name="group___ma_alias"></a>
<div class="api">
  <div class="prototype">MaAlias</div>
  <div class="apiDetail">
<p>Aliases.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">char *</td><td><td>filename</td><td>
Alias to a physical path name.
</td>
    <tr><td class="param">char *</td><td><td>prefix</td><td>
Original URI prefix.
</td>
    <tr><td class="param">int</td><td><td>prefixLen</td><td>
Prefix length.
</td>
    <tr><td class="param">char *</td><td><td>uri</td><td>
Redirect to a uri.
</td>
    </table></dd></dl>
  </div>
</div>
<h1>MaAuth</h1>
<a name="group___ma_auth"></a>
<div class="api">
  <div class="prototype">MaAuth</div>
  <div class="apiDetail">
<p>Authorization The MaAuth struct is the foundation authorization object and is used as base class by MaDirectory and MaLocation.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    </table></dd></dl>
  </div>
</div>
<h1>MaConfigState</h1>
<a name="group___ma_config_state"></a>
<div class="api">
  <div class="prototype">MaConfigState</div>
  <div class="apiDetail">
<p>Current config parse state.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">MaAuth *</td><td><td>auth</td><td>
Current auth object.
</td>
    <tr><td class="param">MaDir *</td><td><td>dir</td><td>
Current directory block.
</td>
    <tr><td class="param">int</td><td><td>enabled</td><td>
True if the current block is enabled.
</td>
    <tr><td class="param">MprFile *</td><td><td>file</td><td>
Config file handle.
</td>
    <tr><td class="param">MaHost *</td><td><td>host</td><td>
Current host.
</td>
    <tr><td class="param">int</td><td><td>lineNumber</td><td>
Config file name. 
Current line number.
</td>
    <tr><td class="param">MaLocation *</td><td><td>location</td><td>
Current location.
</td>
    <tr><td class="param">MaServer *</td><td><td>server</td><td>
Current server.
</td>
    </table></dd></dl>
  </div>
</div>
<h1>MaConn</h1>
<a name="group___ma_conn"></a>
<div class="api">
  <div class="prototype">MaConn</div>
  <div class="apiDetail">
<p>Http Connections.</p>
    <dl><dt><b>Description</b>:</dt><dd>The MaConn object represents a TCP/IP connection to the client. A connection object is created for each socket connection initiated by the client. One MaConn object may service many Http requests due to HTTP/1.1 keep-alive.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_stage" class="ref">MaStage</a></dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">MaHostAddress *</td><td><td>address</td><td>
Host address structure for this connection.
</td>
    <tr><td class="param">MprHeap *</td><td><td>arena</td><td>
Connection memory arena.
</td>
    <tr><td class="param">int</td><td><td>canProceed</td><td>
State machine should continue to process the request.
</td>
    <tr><td class="param">int</td><td><td>disconnected</td><td>
Connection is disconnected. 
Abandon current request.
</td>
    <tr><td class="param">MprTime</td><td><td>expire</td><td>
When the connection should expire.
</td>
    <tr><td class="param">int</td><td><td>flags</td><td>
Connection flags.
</td>
    <tr><td class="param">MaPacket *</td><td><td>freePackets</td><td>
Free list of packets.
</td>
    <tr><td class="param">MaHost *</td><td><td>host</td><td>
Owning host for this request.
</td>
    <tr><td class="param">MaHttp *</td><td><td>http</td><td>
Http handle.
</td>
    <tr><td class="param">MaPacket *</td><td><td>input</td><td>
Header packet.
</td>
    <tr><td class="param">int</td><td><td>keepAliveCount</td><td>
Count of remaining keep alive requests for this connection.
</td>
    <tr><td class="param">MprMutex *</td><td><td>mutex</td><td>
Optional multi-thread sync.
</td>
    <tr><td class="param">MaHost *</td><td><td>originalHost</td><td>
Owning host for this connection. 
May be changed by Host header.
</td>
    <tr><td class="param">int</td><td><td>protocol</td><td>
HTTP protocol version 0 == HTTP/1.0, 1 == HTTP/1.1.
</td>
    <tr><td class="param">char *</td><td><td>remoteIpAddr</td><td>
Remote client IP address (REMOTE_ADDR).
</td>
    <tr><td class="param">int</td><td><td>remotePort</td><td>
Remote client IP port number.
</td>
    <tr><td class="param">struct MaRequest *</td><td><td>request</td><td>
Request object.
</td>
    <tr><td class="param">int</td><td><td>requestFailed</td><td>
Request failed. 
Abbreviate request processing.
</td>
    <tr><td class="param">struct MaResponse *</td><td><td>response</td><td>
Response object.
</td>
    <tr><td class="param">struct MaQueue</td><td><td>serviceq</td><td>
List of queues that require service for request pipeline.
</td>
    <tr><td class="param">MprSocket *</td><td><td>sock</td><td>
Underlying socket handle.
</td>
    <tr><td class="param">MprTime</td><td><td>started</td><td>
When the connection started.
</td>
    <tr><td class="param">int</td><td><td>state</td><td>
Connection state.
</td>
    <tr><td class="param">MprTime</td><td><td>time</td><td>
Cached current time.
</td>
    <tr><td class="param">int</td><td><td>timeout</td><td>
Timeout period in msec.
</td>
    </table></dd></dl>
  </div>
</div>
<h1>MaDir</h1>
<a name="group___ma_dir"></a>
<div class="api">
  <div class="prototype">MaDir</div>
  <div class="apiDetail">
<p>Directory Control.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">MaAuth *</td><td><td>auth</td><td>
Authorization control.
</td>
    <tr><td class="param">struct MaHost *</td><td><td>host</td><td>
Host owning this directory.
</td>
    <tr><td class="param">char *</td><td><td>indexName</td><td>
Default index document name.
</td>
    <tr><td class="param">char *</td><td><td>path</td><td>
Directory filename.
</td>
    <tr><td class="param">int</td><td><td>pathLen</td><td>
Length of the directory path.
</td>
    </table></dd></dl>
  </div>
</div>
<h1>MaFilter</h1>
<a name="group___ma_filter"></a>
<div class="api">
  <div class="prototype">MaFilter</div>
  <div class="apiDetail">
<p>Filter Stages.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    </table></dd></dl>
  </div>
</div>
<h1>MaHost</h1>
<a name="group___ma_host"></a>
<div class="api">
  <div class="prototype">MaHost</div>
  <div class="apiDetail">
<p>Host Object A Host object represents a single listening HTTP connection endpoint.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">MprFile *</td><td><td>accessLog</td><td>
File object for access logging.
</td>
    <tr><td class="param">MprList *</td><td><td>aliases</td><td>
List of Alias definitions.
</td>
    <tr><td class="param">MprList *</td><td><td>connections</td><td>
Currently open connection requests.
</td>
    <tr><td class="param">char</td><td><td>currentDate[64]</td><td>
Date string for HTTP response headers.
</td>
    <tr><td class="param">MprList *</td><td><td>dirs</td><td>
List of Directory definitions.
</td>
    <tr><td class="param">int</td><td><td>httpVersion</td><td>
HTTP/1.X.
</td>
    <tr><td class="param">char *</td><td><td>ipAddrPort</td><td>
IP:PORT address (with wildcards).
</td>
    <tr><td class="param">int</td><td><td>keepAlive</td><td>
Keep alive supported - TODO should be in flags.
</td>
    <tr><td class="param">int</td><td><td>keepAliveTimeout</td><td>
Timeout for keep-alive.
</td>
    <tr><td class="param">MaLimits *</td><td><td>limits</td><td>
Pointer to http-&gt;limits.
</td>
    <tr><td class="param">MaLocation *</td><td><td>location</td><td>
Default location.
</td>
    <tr><td class="param">MprList *</td><td><td>locations</td><td>
List of Location defintions.
</td>
    <tr><td class="param">struct MaHost *</td><td><td>logHost</td><td>
If set, use this hosts logs.
</td>
    <tr><td class="param">int</td><td><td>maxKeepAlive</td><td>
Max keep-alive requests.
</td>
    <tr><td class="param">char *</td><td><td>mimeFile</td><td>
Name of the mime types file.
</td>
    <tr><td class="param">MprHashTable *</td><td><td>mimeTypes</td><td>
Hash table of mime types (key is extension).
</td>
    <tr><td class="param">char *</td><td><td>moduleDirs</td><td>
Directories for modules.
</td>
    <tr><td class="param">char *</td><td><td>name</td><td>
ServerName directive.
</td>
    <tr><td class="param">MprTime</td><td><td>now</td><td>
When was the current date last computed.
</td>
    <tr><td class="param">struct MaHost *</td><td><td>parent</td><td>
Parent host for virtual hosts.
</td>
    <tr><td class="param">char *</td><td><td>secret</td><td>
Random bytes for authentication.
</td>
    <tr><td class="param">bool</td><td><td>secure</td><td>
Host is a secure (SSL) host.
</td>
    <tr><td class="param">MaServer *</td><td><td>server</td><td>
Server owning this host.
</td>
    <tr><td class="param">int</td><td><td>timeout</td><td>
Max time a request can take.
</td>
    <tr><td class="param">MprEvent *</td><td><td>timer</td><td>
Admin service timer.
</td>
    </table></dd></dl>
  </div>
</div>
<h1>MaHostAddress</h1>
<a name="group___ma_host_address"></a>
<div class="api">
  <div class="prototype">MaHostAddress</div>
  <div class="apiDetail">
<p>Host Address Mapping.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">int</td><td><td>flags</td><td>
Mapping flags.
</td>
    <tr><td class="param">char *</td><td><td>ipAddr</td><td>
IP Address for this endpoint.
</td>
    <tr><td class="param">int</td><td><td>port</td><td>
Port for this endpoint.
</td>
    <tr><td class="param">MprList *</td><td><td>vhosts</td><td>
Vhosts using this address.
</td>
    </table></dd></dl>
  </div>
</div>
<h1>MaHttp</h1>
<a name="group___ma_http"></a>
<div class="api">
  <div class="prototype">MaHttp</div>
  <div class="apiDetail">
<p>Http Service.</p>
    <dl><dt><b>Description</b>:</dt><dd>There is one instance of MaHttp per application. It manages a list of HTTP servers running in the application.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b" class="ref">maCreateHttp</a>, <a href="#group___ma_http_1g99ce78ac41ef6ff1d91a89ff832e0e09" class="ref">maStartHttp</a>, <a href="#group___ma_http_1gcf91964d3b2b00dc63e2a4daffc0c723" class="ref">maStopHttp</a></dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">struct MaStage *</td><td><td>authFilter</td><td>
Authorization filter (digest and basic).
</td>
    <tr><td class="param">struct MaStage *</td><td><td>chunkFilter</td><td>
Chunked transfer encoding filter.
</td>
    <tr><td class="param">struct MaServer *</td><td><td>defaultServer</td><td>
Default web server object.
</td>
    <tr><td class="param">struct MaStage *</td><td><td>dirHandler</td><td>
Directory listing handler.
</td>
    <tr><td class="param">struct MaStage *</td><td><td>egiHandler</td><td>
Embedded Gateway Interface (EGI) handler.
</td>
    <tr><td class="param">struct MaStage *</td><td><td>ejsHandler</td><td>
Ejscript Web Framework handler.
</td>
    <tr><td class="param">struct MaStage *</td><td><td>fileHandler</td><td>
Static file handler.
</td>
    <tr><td class="param">int</td><td><td>gid</td><td>
Group Id.
</td>
    <tr><td class="param">char *</td><td><td>groupname</td><td>
Http server group name.
</td>
    <tr><td class="param">MaLimits</td><td><td>limits</td><td>
Security and resource limits.
</td>
    <tr><td class="param">MprMutex *</td><td><td>mutex</td><td>
Multi-thread sync.
</td>
    <tr><td class="param">struct MaStage *</td><td><td>netConnector</td><td>
Network connector.
</td>
    <tr><td class="param">struct MaStage *</td><td><td>passHandler</td><td>
Pass through handler.
</td>
    <tr><td class="param">struct MaStage *</td><td><td>rangeFilter</td><td>
Ranged requests filter.
</td>
    <tr><td class="param">struct MaStage *</td><td><td>sendConnector</td><td>
Send file connector.
</td>
    <tr><td class="param">MprList *</td><td><td>servers</td><td>
List of web servers objects.
</td>
    <tr><td class="param">MprHashTable *</td><td><td>stages</td><td>
Hash table of stages.
</td>
    <tr><td class="param">int</td><td><td>uid</td><td>
User Id.
</td>
    <tr><td class="param">char *</td><td><td>username</td><td>
Http server user name.
</td>
    </table></dd></dl>
  </div>
</div>
<a name="group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___ma_http" class="ref">MaHttp</a> *
    maCreateHttp
(MprCtx ctx)
  </div>
  <div class="apiDetail">
<p>Create the MaHttp object.</p>
    <dl><dt><b>Description</b>:</dt><dd>The Appweb library uses a singleton MaHttp object to manage multiple embedded web servers.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">ctx</td><td>Any memory context object returned by mprAlloc.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A MaHttp object. Use mprFree to close and release.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_http" class="ref">MaHttp</a>, <a href="#group___ma_http_1g99ce78ac41ef6ff1d91a89ff832e0e09" class="ref">maStartHttp</a>, <a href="#group___ma_http_1gcf91964d3b2b00dc63e2a4daffc0c723" class="ref">maStopHttp</a></dd></dl>
  </div>
</div>
<a name="group___ma_http_1gd322e4287ec638e3869ac192335402c1"></a>
<div class="api">
  <div class="prototype">
    int
    maSetHttpGroup
(MaHttp *http, cchar *group)
  </div>
  <div class="apiDetail">
<p>Set the Http Group.</p>
    <dl><dt><b>Description</b>:</dt><dd>Define the group name under which to run the Appweb service.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>MaHttp object created via <a class="ref" href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b">maCreateHttp</a>.</td>
    <tr><td class="param">group</td><td>Group name. Must be defined in the system group file.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_http" class="ref">MaHttp</a>, <a href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b" class="ref">maCreateHttp</a>, <a href="#group___ma_http_1g99ce78ac41ef6ff1d91a89ff832e0e09" class="ref">maStartHttp</a>, <a href="#group___ma_http_1gcf91964d3b2b00dc63e2a4daffc0c723" class="ref">maStopHttp</a></dd></dl>
  </div>
</div>
<a name="group___ma_http_1gd7b13f28a9c589585154397837fa2580"></a>
<div class="api">
  <div class="prototype">
    int
    maSetHttpUser
(MaHttp *http, cchar *user)
  </div>
  <div class="apiDetail">
<p>Set the Http User.</p>
    <dl><dt><b>Description</b>:</dt><dd>Define the user name under which to run the Appweb service.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>MaHttp object created via <a class="ref" href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b">maCreateHttp</a>.</td>
    <tr><td class="param">user</td><td>User name. Must be defined in the system password file.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_http" class="ref">MaHttp</a>, <a href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b" class="ref">maCreateHttp</a>, <a href="#group___ma_http_1g99ce78ac41ef6ff1d91a89ff832e0e09" class="ref">maStartHttp</a>, <a href="#group___ma_http_1gcf91964d3b2b00dc63e2a4daffc0c723" class="ref">maStopHttp</a></dd></dl>
  </div>
</div>
<a name="group___ma_http_1g99ce78ac41ef6ff1d91a89ff832e0e09"></a>
<div class="api">
  <div class="prototype">
    int
    maStartHttp
(MaHttp *http)
  </div>
  <div class="apiDetail">
<p>Start Http services.</p>
    <dl><dt><b>Description</b>:</dt><dd>This starts listening for requests on all configured servers.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>MaHttp object created via <a class="ref" href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b">maCreateHttp</a>.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_http" class="ref">MaHttp</a>, <a href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b" class="ref">maCreateHttp</a>, <a href="#group___ma_http_1gcf91964d3b2b00dc63e2a4daffc0c723" class="ref">maStopHttp</a></dd></dl>
  </div>
</div>
<a name="group___ma_http_1gcf91964d3b2b00dc63e2a4daffc0c723"></a>
<div class="api">
  <div class="prototype">
    int
    maStopHttp
(MaHttp *http)
  </div>
  <div class="apiDetail">
<p>Stop Http services.</p>
    <dl><dt><b>Description</b>:</dt><dd>This stops listening for requests on all configured servers. Shutdown is somewhat graceful.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>MaHttp object created via <a class="ref" href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b">maCreateHttp</a>.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_http" class="ref">MaHttp</a>, <a href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b" class="ref">maCreateHttp</a>, <a href="#group___ma_http_1g99ce78ac41ef6ff1d91a89ff832e0e09" class="ref">maStartHttp</a></dd></dl>
  </div>
</div>
<h1>MaLimits</h1>
<a name="group___ma_limits"></a>
<div class="api">
  <div class="prototype">MaLimits</div>
  <div class="apiDetail">
<p>Server limits.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">int</td><td><td>maxBody</td><td>
Max size of an incoming request.
</td>
    <tr><td class="param">int</td><td><td>maxChunkSize</td><td>
Max chunk size for transfer encoding.
</td>
    <tr><td class="param">int</td><td><td>maxHeader</td><td>
Max size of the total header.
</td>
    <tr><td class="param">int</td><td><td>maxNumHeaders</td><td>
Max number of lines of header.
</td>
    <tr><td class="param">int</td><td><td>maxResponseBody</td><td>
Max size of generated response content.
</td>
    <tr><td class="param">int</td><td><td>maxStageBuffer</td><td>
Max buffering by any pipeline stage.
</td>
    <tr><td class="param">int</td><td><td>maxThreads</td><td>
Max number of pool threads.
</td>
    <tr><td class="param">int</td><td><td>maxUploadSize</td><td>
Max size of an uploaded file.
</td>
    <tr><td class="param">int</td><td><td>maxUrl</td><td>
Max size of a URL.
</td>
    <tr><td class="param">int</td><td><td>minThreads</td><td>
Min number of pool threads.
</td>
    <tr><td class="param">int</td><td><td>threadStackSize</td><td>
Stack size for each pool thread.
</td>
    </table></dd></dl>
  </div>
</div>
<h1>MaListen</h1>
<a name="group___ma_listen"></a>
<div class="api">
  <div class="prototype">MaListen</div>
  <div class="apiDetail">
<p>Listen endpoint.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">int</td><td><td>flags</td><td>
Listen flags.
</td>
    <tr><td class="param">char *</td><td><td>ipAddr</td><td>
IP address on which to listen.
</td>
    <tr><td class="param">int</td><td><td>port</td><td>
Port number to listen on.
</td>
    <tr><td class="param">struct MaServer *</td><td><td>server</td><td>
Server owning this listening endpoint.
</td>
    <tr><td class="param">MprSocket *</td><td><td>sock</td><td>
Underlying socket.
</td>
    <tr><td class="param">struct MprSsl *</td><td><td>ssl</td><td>
SSL configuration.
</td>
    </table></dd></dl>
  </div>
</div>
<h1>MaLocation</h1>
<a name="group___ma_location"></a>
<div class="api">
  <div class="prototype">MaLocation</div>
  <div class="apiDetail">
<p>Location Control.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">MaAuth *</td><td><td>auth</td><td>
Per location block authentication.
</td>
    <tr><td class="param">struct MaStage *</td><td><td>connector</td><td>
Network connector.
</td>
    <tr><td class="param">MprHashTable *</td><td><td>extensions</td><td>
Hash of handlers by extensions.
</td>
    <tr><td class="param">int</td><td><td>flags</td><td>
Location flags.
</td>
    <tr><td class="param">struct MaStage *</td><td><td>handler</td><td>
Set handler.
</td>
    <tr><td class="param">void *</td><td><td>handlerData</td><td>
Data reserved for the handler.
</td>
    <tr><td class="param">MprList *</td><td><td>handlers</td><td>
List of handlers for this location.
</td>
    <tr><td class="param">MprList *</td><td><td>inputStages</td><td>
Input stages.
</td>
    <tr><td class="param">MprList *</td><td><td>outputStages</td><td>
Output stages.
</td>
    <tr><td class="param">struct MaLocation *</td><td><td>parent</td><td>
Parent location.
</td>
    <tr><td class="param">char *</td><td><td>prefix</td><td>
Location prefix name.
</td>
    <tr><td class="param">int</td><td><td>prefixLen</td><td>
Length of the prefix name.
</td>
    <tr><td class="param">int</td><td><td>sessionTimeout</td><td>
Session timeout for this location.
</td>
    <tr><td class="param">struct MprSsl *</td><td><td>ssl</td><td>
SSL configuration.
</td>
    </table></dd></dl>
  </div>
</div>
<h1>MaMimeType</h1>
<a name="group___ma_mime_type"></a>
<div class="api">
  <div class="prototype">MaMimeType</div>
  <div class="apiDetail">
<p>Mime Type hash table entry (the URL extension is the key).</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    </table></dd></dl>
  </div>
</div>
<h1>MaPacket</h1>
<a name="group___ma_packet"></a>
<div class="api">
  <div class="prototype">MaPacket</div>
  <div class="apiDetail">
<p>Data packet.</p>
    <dl><dt><b>Description</b>:</dt><dd>The request/response pipeline sends data and control information in MaPacket objects. The output stream typically consists of a HEADER packet followed by zero or more data packets and terminated by an END packet. If the request has input data, the input stream is consists of one or more data packets followed by an END packet. <br/><br/>
 Packets contain data and optional prefix or suffix headers. Packets can be split, joined, filled or emptied. The pipeline stages will fill or transform packet data as required.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_packet_1gf6e524d50d35ee9f7095e85a2c5f7b0c" class="ref">maCreateEndPacket</a>, <a href="#group___ma_packet_1gc4d07f426450d99470479ce71db99803" class="ref">maCreateHeaderPacket</a>, <a href="#group___ma_packet_1ge7a1cc0bbf598580bd1ad8a166a9ba82" class="ref">maCreatePacket</a>, <a href="#group___ma_packet_1g3fbb007c176ea20c68c675bd8dde4efd" class="ref">maGetPacketLength</a>, <a href="#group___ma_packet_1gcfdb85fc6850462b81db3e1da730d2b6" class="ref">maJoinPacket</a>, <a href="#group___ma_packet_1g1f03b26ceb37a67946c136a31efb2bf6" class="ref">maSplitPacket</a></dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">MprBuf *</td><td><td>content</td><td>
Chunk content.
</td>
    <tr><td class="param">int</td><td><td>entityLength</td><td>
Entity length. 
Content is null.
</td>
    <tr><td class="param">int</td><td><td>flags</td><td>
Packet flags.
</td>
    <tr><td class="param">struct MaPacket *</td><td><td>next</td><td>
Next packet in chain.
</td>
    <tr><td class="param">MprBuf *</td><td><td>prefix</td><td>
Prefix message to be emitted before the content.
</td>
    <tr><td class="param">MprBuf *</td><td><td>suffix</td><td>
Prefix message to be emitted after the content.
</td>
    </table></dd></dl>
  </div>
</div>
<a name="group___ma_packet_1g5df1a8ee94fca1ff1aa9576abc429b85"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___ma_packet" class="ref">MaPacket</a> *
    maCreateDataPacket
(MprCtx ctx, int size)
  </div>
  <div class="apiDetail">
<p>Create a data packet.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a packet and set the MA_PACKET_DATA flag Data packets convey data through the response pipeline.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">ctx</td><td>A conn or request memory context object.</td>
    <tr><td class="param">size</td><td>Size of the package data storage.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>MaPacket object.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_packet_1gf6e524d50d35ee9f7095e85a2c5f7b0c" class="ref">maCreateEndPacket</a>, <a href="#group___ma_packet_1gc4d07f426450d99470479ce71db99803" class="ref">maCreateHeaderPacket</a>, <a href="#group___ma_packet_1ge7a1cc0bbf598580bd1ad8a166a9ba82" class="ref">maCreatePacket</a>, <a href="#group___ma_packet_1g3fbb007c176ea20c68c675bd8dde4efd" class="ref">maGetPacketLength</a>, <a href="#group___ma_packet_1gcfdb85fc6850462b81db3e1da730d2b6" class="ref">maJoinPacket</a>, <a href="#group___ma_packet_1g1f03b26ceb37a67946c136a31efb2bf6" class="ref">maSplitPacket</a></dd></dl>
  </div>
</div>
<a name="group___ma_packet_1gf6e524d50d35ee9f7095e85a2c5f7b0c"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___ma_packet" class="ref">MaPacket</a> *
    maCreateEndPacket
(MprCtx ctx)
  </div>
  <div class="apiDetail">
<p>Create an end packet.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create an end-of-stream packet and set the MA_PACKET_END flag. The end pack signifies the end of data. It is used on both incoming and outgoing streams through the request/response pipeline.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">ctx</td><td>A conn or request memory context object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>MaPacket object.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_packet_1gc4d07f426450d99470479ce71db99803" class="ref">maCreateHeaderPacket</a>, <a href="#group___ma_packet_1ge7a1cc0bbf598580bd1ad8a166a9ba82" class="ref">maCreatePacket</a>, <a href="#group___ma_packet_1g3fbb007c176ea20c68c675bd8dde4efd" class="ref">maGetPacketLength</a>, <a href="#group___ma_packet_1gcfdb85fc6850462b81db3e1da730d2b6" class="ref">maJoinPacket</a>, <a href="#group___ma_packet_1g1f03b26ceb37a67946c136a31efb2bf6" class="ref">maSplitPacket</a></dd></dl>
  </div>
</div>
<a name="group___ma_packet_1gc4d07f426450d99470479ce71db99803"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___ma_packet" class="ref">MaPacket</a> *
    maCreateHeaderPacket
(MprCtx ctx)
  </div>
  <div class="apiDetail">
<p>Create a response header packet.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a response header packet and set the MA_PACKET_HEADER flag. A header packet is used by the pipeline to hold the response headers.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">ctx</td><td>A conn or request memory context object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>MaPacket object.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_packet_1gf6e524d50d35ee9f7095e85a2c5f7b0c" class="ref">maCreateEndPacket</a>, <a href="#group___ma_packet_1ge7a1cc0bbf598580bd1ad8a166a9ba82" class="ref">maCreatePacket</a>, <a href="#group___ma_packet_1g3fbb007c176ea20c68c675bd8dde4efd" class="ref">maGetPacketLength</a>, <a href="#group___ma_packet_1gcfdb85fc6850462b81db3e1da730d2b6" class="ref">maJoinPacket</a>, <a href="#group___ma_packet_1g1f03b26ceb37a67946c136a31efb2bf6" class="ref">maSplitPacket</a></dd></dl>
  </div>
</div>
<a name="group___ma_packet_1ge7a1cc0bbf598580bd1ad8a166a9ba82"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___ma_packet" class="ref">MaPacket</a> *
    maCreatePacket
(MprCtx ctx, int size)
  </div>
  <div class="apiDetail">
<p>Create a data packet.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a packet of the required size.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">ctx</td><td>A conn or request memory context object.</td>
    <tr><td class="param">size</td><td>Size of the package data storage.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>MaPacket object.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_packet_1gf6e524d50d35ee9f7095e85a2c5f7b0c" class="ref">maCreateEndPacket</a>, <a href="#group___ma_packet_1gc4d07f426450d99470479ce71db99803" class="ref">maCreateHeaderPacket</a>, <a href="#group___ma_packet_1g3fbb007c176ea20c68c675bd8dde4efd" class="ref">maGetPacketLength</a>, <a href="#group___ma_packet_1gcfdb85fc6850462b81db3e1da730d2b6" class="ref">maJoinPacket</a>, <a href="#group___ma_packet_1g1f03b26ceb37a67946c136a31efb2bf6" class="ref">maSplitPacket</a></dd></dl>
  </div>
</div>
<a name="group___ma_packet_1g3fbb007c176ea20c68c675bd8dde4efd"></a>
<div class="api">
  <div class="prototype">
    int
    maGetPacketLength
(MaPacket *packet)
  </div>
  <div class="apiDetail">
<p>Get the length of the packet data contents.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the content length of a packet. This does not include the prefix or suffix data length -- just the pure data contents.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">packet</td><td>Packet to examine.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Count of bytes contained by the packet.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_packet_1gf6e524d50d35ee9f7095e85a2c5f7b0c" class="ref">maCreateEndPacket</a>, <a href="#group___ma_packet_1gc4d07f426450d99470479ce71db99803" class="ref">maCreateHeaderPacket</a>, <a href="#group___ma_packet_1ge7a1cc0bbf598580bd1ad8a166a9ba82" class="ref">maCreatePacket</a>, <a href="#group___ma_packet_1gcfdb85fc6850462b81db3e1da730d2b6" class="ref">maJoinPacket</a>, <a href="#group___ma_packet_1g1f03b26ceb37a67946c136a31efb2bf6" class="ref">maSplitPacket</a></dd></dl>
  </div>
</div>
<a name="group___ma_packet_1gcfdb85fc6850462b81db3e1da730d2b6"></a>
<div class="api">
  <div class="prototype">
    int
    maJoinPacket
(MaPacket *packet, MaPacket *other)
  </div>
  <div class="apiDetail">
<p>Join tow packets.</p>
    <dl><dt><b>Description</b>:</dt><dd>Join the contents of one packet to another by copying the data from the other packet into the first packet.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">packet</td><td>Destination packet.</td>
    <tr><td class="param">other</td><td>Other packet to copy data from.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_packet_1gf6e524d50d35ee9f7095e85a2c5f7b0c" class="ref">maCreateEndPacket</a>, <a href="#group___ma_packet_1gc4d07f426450d99470479ce71db99803" class="ref">maCreateHeaderPacket</a>, <a href="#group___ma_packet_1ge7a1cc0bbf598580bd1ad8a166a9ba82" class="ref">maCreatePacket</a>, <a href="#group___ma_packet_1g3fbb007c176ea20c68c675bd8dde4efd" class="ref">maGetPacketLength</a>, <a href="#group___ma_packet_1g1f03b26ceb37a67946c136a31efb2bf6" class="ref">maSplitPacket</a></dd></dl>
  </div>
</div>
<a name="group___ma_packet_1g1f03b26ceb37a67946c136a31efb2bf6"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___ma_packet" class="ref">MaPacket</a> *
    maSplitPacket
(struct MaConn *conn, MaPacket *packet, int offset)
  </div>
  <div class="apiDetail">
<p>Split a data packet.</p>
    <dl><dt><b>Description</b>:</dt><dd>Split a data packet at the specified offset. Packets may need to be split so that downstream stages can digest their contents. If a packet is too large for the queue maximum size, it should be split. When the packet is split, a new packet is created containing the data after the offset. Any suffix headers are moved to the new packet.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">packet</td><td>Packet to split.</td>
    <tr><td class="param">offset</td><td>Location in the original packet at which to split.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>New MaPacket object containing the data after the offset. No need to free, unless you have a very long running request. Otherwise the packet memory will be released automatically when the request completes.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_packet_1gf6e524d50d35ee9f7095e85a2c5f7b0c" class="ref">maCreateEndPacket</a>, <a href="#group___ma_packet_1gc4d07f426450d99470479ce71db99803" class="ref">maCreateHeaderPacket</a>, <a href="#group___ma_packet_1ge7a1cc0bbf598580bd1ad8a166a9ba82" class="ref">maCreatePacket</a>, <a href="#group___ma_packet_1g3fbb007c176ea20c68c675bd8dde4efd" class="ref">maGetPacketLength</a>, <a href="#group___ma_packet_1gcfdb85fc6850462b81db3e1da730d2b6" class="ref">maJoinPacket</a></dd></dl>
  </div>
</div>
<h1>MaQueue</h1>
<a name="group___ma_queue"></a>
<div class="api">
  <div class="prototype">MaQueue</div>
  <div class="apiDetail">
<p>Queue Head.</p>
    <dl><dt><b>Description</b>:</dt><dd>The request pipeline consists of a full-duplex pipeline of stages. Each stage has two queues, one for outgoing data and one for incoming. A MaQueue object manages the data flow for a request stage and has the ability to queue and process data, manage flow control and schedule packets for service. <br/><br/>
 Queue&apos;s provide open, close, put and service methods. These methods manage and respond to incoming packets. A queue can respond immediately to an incoming packet by processing or dispatching a packet in its put() method. Alternatively, the queue can defer processing by queueing the packet on it&apos;s service queue and then waiting for it&apos;s service() method to be invoked. <br/><br/>
 If a queue does not define a put() method, the default put method will be used which queues data onto the service queue. The default incoming put() method joins incoming packets into a single packet on the service queue.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">MaQueueClose</td><td><td>close</td><td>
Close the queue.
</td>
    <tr><td class="param">struct MaConn *</td><td><td>conn</td><td>
Connection ownning this queue.
</td>
    <tr><td class="param">int</td><td><td>count</td><td>
Bytes in queue.
</td>
    <tr><td class="param">int</td><td><td>direction</td><td>
Flow direction.
</td>
    <tr><td class="param">MaPacket *</td><td><td>first</td><td>
First packet in queue (singly linked).
</td>
    <tr><td class="param">int</td><td><td>flags</td><td>
Queue flags.
</td>
    <tr><td class="param">int</td><td><td>ioCount</td><td>
Count of bytes in iovec.
</td>
    <tr><td class="param">int</td><td><td>ioFileEntry</td><td>
Has file entry in iovec.
</td>
    <tr><td class="param">int</td><td><td>ioFileOffset</td><td>
The next file position to use.
</td>
    <tr><td class="param">int</td><td><td>ioIndex</td><td>
Next index into iovec.
</td>
    <tr><td class="param">MaPacket *</td><td><td>last</td><td>
Last packet in queue (tail pointer).
</td>
    <tr><td class="param">int</td><td><td>low</td><td>
Low water mark for flow control.
</td>
    <tr><td class="param">int</td><td><td>max</td><td>
Maxiumum queue size.
</td>
    <tr><td class="param">struct MaQueue *</td><td><td>nextQ</td><td>
Downstream queue for next stage.
</td>
    <tr><td class="param">MaQueueOpen</td><td><td>open</td><td>
Open the queue.
</td>
    <tr><td class="param">cchar *</td><td><td>owner</td><td>
Name of owning stage.
</td>
    <tr><td class="param">int</td><td><td>packetSize</td><td>
Maximum acceptable packet size.
</td>
    <tr><td class="param">struct MaQueue *</td><td><td>pair</td><td>
Queue for the same stage in the opposite direction.
</td>
    <tr><td class="param">MaPacket *</td><td><td>pending</td><td>
Packets pending more dynamic data output.
</td>
    <tr><td class="param">struct MaQueue *</td><td><td>prevQ</td><td>
Upstream queue for prior stage.
</td>
    <tr><td class="param">MaQueueData</td><td><td>put</td><td>
Put a message on the queue.
</td>
    <tr><td class="param">void *</td><td><td>queueData</td><td>
Stage instance data.
</td>
    <tr><td class="param">struct MaQueue *</td><td><td>scheduleNext</td><td>
Next linkage when queue is on the service queue.
</td>
    <tr><td class="param">struct MaQueue *</td><td><td>schedulePrev</td><td>
Previous linkage when queue is on the service queue.
</td>
    <tr><td class="param">MaQueueService</td><td><td>service</td><td>
Service the queue.
</td>
    <tr><td class="param">struct MaStage *</td><td><td>stage</td><td>
Stage owning this queue.
</td>
    </table></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1g89df8a2c0754e9740cb982948227c080"></a>
<div class="api">
  <div class="prototype">
    void
    maDisableQueue
(MaQueue *q)
  </div>
  <div class="apiDetail">
<p>Disable a queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Mark a queue as disabled so that it will not be scheduled for service.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4"></a>
<div class="api">
  <div class="prototype">
    void
    maDiscardData
(MaQueue *q, bool removePackets)
  </div>
  <div class="apiDetail">
<p>Discard all data from the queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Discard data from the queue. If removePackets (not yet implemented) is true, then remove the packets otherwise, just discard the data and preserve the packets.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    <tr><td class="param">removePackets</td><td>If true, the data packets will be removed from the queue.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9"></a>
<div class="api">
  <div class="prototype">
    void
    maEnableQueue
(MaQueue *q)
  </div>
  <div class="apiDetail">
<p>Enable a queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Enable a queue for service and schedule it to run. This will cause the service routine to run as soon as possible.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___ma_packet" class="ref">MaPacket</a> *
    maGet
(MaQueue *q)
  </div>
  <div class="apiDetail">
<p>Get the next packet from a queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the next packet. This will remove the packet from the queue and adjust the queue counts accordingly. If the queue was full and upstream queues were blocked, they will be enabled.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>The packet removed from the queue.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586"></a>
<div class="api">
  <div class="prototype">
    int
    maGetQueueRoom
(MaQueue *q)
  </div>
  <div class="apiDetail">
<p>Get the room in the queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the amount of data the queue can accept before being full.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of bytes that can be written to the queue.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8"></a>
<div class="api">
  <div class="prototype">
    bool
    maIsQueueEmpty
(MaQueue *q)
  </div>
  <div class="apiDetail">
<p>Determine if the queue is empty.</p>
    <dl><dt><b>Description</b>:</dt><dd>Determine if the queue has no packets queued. This does not test if the queue has no data content.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if there are no packets queued.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1g008879575307745c34a0d3a3807522a2"></a>
<div class="api">
  <div class="prototype">
    void
    maJoinForService
(MaQueue *q, MaPacket *packet, bool serviceQ)
  </div>
  <div class="apiDetail">
<p>Join a packet onto the service queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Add a packet to the service queue. If the queue already has data, then this packet will be joined (aggregated) into the existing packet. If serviceQ is true, the queue will be scheduled for service.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    <tr><td class="param">packet</td><td>Packet to join to the queue.</td>
    <tr><td class="param">serviceQ</td><td>If true, schedule the queue for service.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0"></a>
<div class="api">
  <div class="prototype">
    bool
    maPacketTooBig
(MaQueue *q, MaPacket *packet)
  </div>
  <div class="apiDetail">
<p>Test if a packet is too big.</p>
    <dl><dt><b>Description</b>:</dt><dd>Test if a packet is too big to fit downstream. If the packet content exceeds the downstream queue&apos;s maximum or exceeds the downstream queue&apos;s requested packet size -- then this routine will return true.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    <tr><td class="param">packet</td><td>Packet to test.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if the packet is too big for the downstream queue.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1gd565107ef6abf6c845724d05391580b8"></a>
<div class="api">
  <div class="prototype">
    void
    maPut
(MaQueue *q, MaPacket *packet)
  </div>
  <div class="apiDetail">
<p>Put a packet onto a queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Put the packet onto the end of queue by calling the queue&apos;s put() method.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    <tr><td class="param">packet</td><td>Packet to put.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1g122d3cbab1cab19d402841dacf367e71"></a>
<div class="api">
  <div class="prototype">
    void
    maPutBack
(MaQueue *q, MaPacket *packet)
  </div>
  <div class="apiDetail">
<p>Put a packet back onto a queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Put the packet back onto the front of the queue. The queue&apos;s put() method is not called. This is typically used by the queue&apos;s service routine when a packet cannot complete processing.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    <tr><td class="param">packet</td><td>Packet to put back.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104"></a>
<div class="api">
  <div class="prototype">
    void
    maPutForService
(MaQueue *q, MaPacket *packet, bool serviceQ)
  </div>
  <div class="apiDetail">
<p>Put a packet onto the service queue.</p>
Put a packet onto a service queue
    <dl><dt><b>Description</b>:</dt><dd>Add a packet to the service queue. If serviceQ is true, the queue will be scheduled for service.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    <tr><td class="param">packet</td><td>Packet to join to the queue.</td>
    <tr><td class="param">serviceQ</td><td>If true, schedule the queue for service.</td>
    </table></dd></dl>
    <dl><dt><b>Description</b>:</dt><dd>Put the packet onto the service queue and optionally schedule the queue for service.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    <tr><td class="param">packet</td><td>Packet to put.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0"></a>
<div class="api">
  <div class="prototype">
    void
    maPutNext
(MaQueue *q, MaPacket *packet)
  </div>
  <div class="apiDetail">
<p>Put a packet onto the next queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Put a packet onto the next downstream queue by calling the downstreams queue&apos;s put() method.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference. The packet will not be queued on this queue, but rather on the queue downstream.</td>
    <tr><td class="param">packet</td><td>Packet to put.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802"></a>
<div class="api">
  <div class="prototype">
    void
    maRemoveQueue
(MaQueue *q)
  </div>
  <div class="apiDetail">
<p>Remove a queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Remove a queue from the request/response pipeline. This will remove a queue so that it does not participate in the pipeline, effectively removing the processing stage from the pipeline. This is useful to remove unwanted filters and to speed up pipeline processing.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576"></a>
<div class="api">
  <div class="prototype">
    int
    maResizePacket
(MaQueue *q, MaPacket *packet, int size)
  </div>
  <div class="apiDetail">
<p>Resize a packet.</p>
    <dl><dt><b>Description</b>:</dt><dd>Resize a packet if required so that it fits in the downstream queue. This may split the packet if it is too big to fit in the downstream queue. If it is split, the tail portion is put back on the queue.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    <tr><td class="param">packet</td><td>Packet to put.</td>
    <tr><td class="param">size</td><td>If size is &gt; 0, then also ensure the packet is not larger than this size.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c"></a>
<div class="api">
  <div class="prototype">
    void
    maScheduleQueue
(MaQueue *q)
  </div>
  <div class="apiDetail">
<p>Schedule a queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Schedule a queue by adding it to the schedule queue. Queues are serviced FIFO.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6"></a>
<div class="api">
  <div class="prototype">
    void
    maSendEndPacket
(MaQueue *q)
  </div>
  <div class="apiDetail">
<p>Send an end packet.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create and send an end-of-stream packet downstream.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166"></a>
<div class="api">
  <div class="prototype">
    void
    maSendPackets
(MaQueue *q)
  </div>
  <div class="apiDetail">
<p>Send all queued packets.</p>
    <dl><dt><b>Description</b>:</dt><dd>Send all queued packets downstream.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2"></a>
<div class="api">
  <div class="prototype">
    void
    maServiceQueue
(MaQueue *q)
  </div>
  <div class="apiDetail">
<p>Service a queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Service a queue by invoking its service() routine.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27"></a>
<div class="api">
  <div class="prototype">
    bool
    maWillNextQueueAccept
(MaQueue *q, MaPacket *packet)
  </div>
  <div class="apiDetail">
<p>Determine if the downstream queue will accept this packet.</p>
    <dl><dt><b>Description</b>:</dt><dd>Test if the downstream queue will accept a packet. The packet will be resized if required in an attempt to get the downstream queue to accept it. If the downstream queue is full, disable this queue and mark the downstream queue as full and service it immediately to try to relieve the congestion.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    <tr><td class="param">packet</td><td>Packet to put.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if the downstream queue will accept the packet. Use <a class="ref" href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0">maPutNext</a> to send the packet downstream.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af"></a>
<div class="api">
  <div class="prototype">
    int
    maWrite
(MaQueue *q, cchar *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Write a formatted string.</p>
    <dl><dt><b>Description</b>:</dt><dd>Write a formatted string of data into packets onto the end of the queue. Data packets will be created as required to store the write data. This call may block waiting for the downstream queue to drain if it is or becomes full.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5"></a>
<div class="api">
  <div class="prototype">
    int
    maWriteBlock
(MaQueue *q, cchar *buf, int size, bool block)
  </div>
  <div class="apiDetail">
<p>Write a block of data to the queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Write a block of data into packets onto the end of the queue. Data packets will be created as required to store the write data.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    <tr><td class="param">buf</td><td>Buffer containing the write data.</td>
    <tr><td class="param">size</td><td>of the data in buf.</td>
    <tr><td class="param">block</td><td>Set to true to block and wait for data to drain if the downstream queue is full. If false, the call may return not having written all the data. The return value indicates how many bytes were actually written.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac" class="ref">maWriteString</a></dd></dl>
  </div>
</div>
<a name="group___ma_queue_1gdabcf6082f3025c5d1602ef9c6fa89ac"></a>
<div class="api">
  <div class="prototype">
    int
    maWriteString
(MaQueue *q, cchar *s)
  </div>
  <div class="apiDetail">
<p>Write a string of data to the queue.</p>
    <dl><dt><b>Description</b>:</dt><dd>Write a string of data into packets onto the end of the queue. Data packets will be created as required to store the write data. This call may block waiting for the downstream queue to drain if it is or becomes full.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue reference.</td>
    <tr><td class="param">s</td><td>String containing the data to write.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_packet" class="ref">MaPacket</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_queue_1g89df8a2c0754e9740cb982948227c080" class="ref">maDisableQueue</a>, <a href="#group___ma_queue_1g1defdb2be244b8e7144c5f0b70eba4d4" class="ref">maDiscardData</a>, <a href="#group___ma_queue_1g861e916c603c00b2e0cd41c20328f0d9" class="ref">maEnableQueue</a>, <a href="#group___ma_queue_1ge4ae8e97415719af334f9ae2cf385f85" class="ref">maGet</a>, <a href="#group___ma_queue_1gafeb4b4cdc2db5d4c637f9302da04586" class="ref">maGetQueueRoom</a>, <a href="#group___ma_queue_1g31b1ed4d3426c7bab23f0362b9946cc8" class="ref">maIsQueueEmpty</a>, <a href="#group___ma_queue_1g008879575307745c34a0d3a3807522a2" class="ref">maJoinForService</a>, <a href="#group___ma_queue_1g9f5803bd3fe541a182013dbc79270ae0" class="ref">maPacketTooBig</a>, <a href="#group___ma_queue_1gd565107ef6abf6c845724d05391580b8" class="ref">maPut</a>, <a href="#group___ma_queue_1g122d3cbab1cab19d402841dacf367e71" class="ref">maPutBack</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1gcd68693bae6cf09dd5edbec8ffc38104" class="ref">maPutForService</a>, <a href="#group___ma_queue_1g173a4c117118b3e3d49df64eae9a9db0" class="ref">maPutNext</a>, <a href="#group___ma_queue_1gccb9f17d52a0c12a6a1d8146ef3c6802" class="ref">maRemoveQueue</a>, <a href="#group___ma_queue_1g695e3a780fd92fb9bfed08cada3d4576" class="ref">maResizePacket</a>, <a href="#group___ma_queue_1g5b0f2004a9feb4398d7080b935f8831c" class="ref">maScheduleQueue</a>, <a href="#group___ma_queue_1g995c657ec4d913bc4ecddc98e8d075c6" class="ref">maSendEndPacket</a>, <a href="#group___ma_queue_1g30f58c7ab7a180a70bcbf7fe7b59c166" class="ref">maSendPackets</a>, <a href="#group___ma_queue_1gd25ce1252624d2dc0234d147cce253a2" class="ref">maServiceQueue</a>, <a href="#group___ma_queue_1gcc3dad29937612ebcbfc39491e0e3f27" class="ref">maWillNextQueueAccept</a>, <a href="#group___ma_queue_1gc5d94b33984c18b05cc40e8a2e7c11af" class="ref">maWrite</a>, <a href="#group___ma_queue_1gcc302b0d5ddb16163bdd48b575adcfb5" class="ref">maWriteBlock</a></dd></dl>
  </div>
</div>
<h1>MaRange</h1>
<a name="group___ma_range"></a>
<div class="api">
  <div class="prototype">MaRange</div>
  <div class="apiDetail">
<p>Content range structure.</p>
    <dl><dt></dt><dd>Range: 0, 49 First 50 bytes Range: -1, -50 Last 50 bytes Range: 1, -1 Skip first byte then select content to the end.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">int</td><td><td>end</td><td>
End byte of range + 1.
</td>
    <tr><td class="param">int</td><td><td>len</td><td>
Redundant range length.
</td>
    <tr><td class="param">struct MaRange *</td><td><td>next</td><td>
Next range.
</td>
    <tr><td class="param">int</td><td><td>start</td><td>
Start of range.
</td>
    </table></dd></dl>
  </div>
</div>
<h1>MaRequest</h1>
<a name="group___ma_request"></a>
<div class="api">
  <div class="prototype">MaRequest</div>
  <div class="apiDetail">
<p>Http Requests.</p>
    <dl><dt><b>Description</b>:</dt><dd>Most of the APIs in the Request group still take a MaConn object as their first parameter. This is to make the API easier to remember - APIs take a connection object rather than a request or response object.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_request_1g37f287f2db074d1f53cd14c4d041f0b5" class="ref">maCompareFormVar</a>, <a href="#group___ma_request_1gfabbafae1edfe71c6961fb7b3517a555" class="ref">maGetCookies</a>, <a href="#group___ma_request_1g8ebdb53755a8a2af8b14b9739ed458f9" class="ref">maGetFormVar</a>, <a href="#group___ma_request_1g47566765cffb453045d103b07a3ffdc6" class="ref">maGetIntFormVar</a>, <a href="#group___ma_request_1gbc322b0f9a0cd9736e63fb5996966d55" class="ref">maGetQueryString</a>, <a href="#group___ma_request_1g8ea727d5e958015dbeeffeeceb6e5be0" class="ref">maSetFormVar</a>, <a href="#group___ma_request_1g5de91ec793b3a728c142c017f89c8310" class="ref">maSetIntFormVar</a>, <a href="#group___ma_request_1gc0ca4ed4a140bb47717430c890c070d6" class="ref">maTestFormVar</a></dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">char *</td><td><td>accept</td><td>
Accept header.
</td>
    <tr><td class="param">char *</td><td><td>acceptCharset</td><td>
Accept-Charset header.
</td>
    <tr><td class="param">char *</td><td><td>acceptEncoding</td><td>
Accept-Encoding header.
</td>
    <tr><td class="param">MaAlias *</td><td><td>alias</td><td>
Matching alias.
</td>
    <tr><td class="param">MprHeap *</td><td><td>arena</td><td>
Request memory arena.
</td>
    <tr><td class="param">MaAuth *</td><td><td>auth</td><td>
Set to either dir or location auth information.
</td>
    <tr><td class="param">char *</td><td><td>authType</td><td>
Authorization type (basic|digest) (ENV: AUTH_TYPE).
</td>
    <tr><td class="param">int</td><td><td>chunkRemainingData</td><td>
Remaining chunk data to read.
</td>
    <tr><td class="param">int</td><td><td>chunkSize</td><td>
Size of the next chunk.
</td>
    <tr><td class="param">int</td><td><td>chunkState</td><td>
Chunk encoding state.
</td>
    <tr><td class="param">struct MaConn *</td><td><td>conn</td><td>
Connection object.
</td>
    <tr><td class="param">char *</td><td><td>connection</td><td>
Connection header.
</td>
    <tr><td class="param">char *</td><td><td>contentLengthStr</td><td>
Content length string value.
</td>
    <tr><td class="param">char *</td><td><td>cookie</td><td>
Request cookie header.
</td>
    <tr><td class="param">MaDir *</td><td><td>dir</td><td>
Best matching dir (PTR only).
</td>
    <tr><td class="param">MprList *</td><td><td>etags</td><td>
Document etag to uniquely identify the document version.
</td>
    <tr><td class="param">MprHashTable *</td><td><td>files</td><td>
Uploaded files. 
Managed by the upload filter.
</td>
    <tr><td class="param">int</td><td><td>flags</td><td>
Request modifiers.
</td>
    <tr><td class="param">MprHashTable *</td><td><td>formVars</td><td>
Query and post data variables.
</td>
    <tr><td class="param">char *</td><td><td>forwarded</td><td>
Forwarded header.
</td>
    <tr><td class="param">char *</td><td><td>group</td><td>
Supplied via basic / digest auth.
</td>
    <tr><td class="param">MaPacket *</td><td><td>headerpacket</td><td>
Packet containing all headers ( == conn-&gt;input).
</td>
    <tr><td class="param">MaPacket *</td><td><td>headerPacket</td><td>
HTTP headers.
</td>
    <tr><td class="param">MprHashTable *</td><td><td>headers</td><td>
Header variables.
</td>
    <tr><td class="param">MaHost *</td><td><td>host</td><td>
Owning host for this request.
</td>
    <tr><td class="param">char *</td><td><td>hostName</td><td>
Client supplied host name.
</td>
    <tr><td class="param">char *</td><td><td>httpProtocol</td><td>
HTTP/1.0 or HTTP/1.1.
</td>
    <tr><td class="param">bool</td><td><td>ifMatch</td><td>
If-Match processing requested.
</td>
    <tr><td class="param">bool</td><td><td>ifModified</td><td>
If-Modified processing requested.
</td>
    <tr><td class="param">MprList *</td><td><td>inputPipeline</td><td>
Input processing.
</td>
    <tr><td class="param">MaRange *</td><td><td>inputRange</td><td>
Specified range for input (post) data.
</td>
    <tr><td class="param">int</td><td><td>length</td><td>
Declared content length (ENV: CONTENT_LENGTH).
</td>
    <tr><td class="param">MaLocation *</td><td><td>location</td><td>
Location block.
</td>
    <tr><td class="param">int</td><td><td>method</td><td>
Request method.
</td>
    <tr><td class="param">char *</td><td><td>methodName</td><td>
Protocol method GET|PUT. 
(ENV: REQUEST_METHOD).
</td>
    <tr><td class="param">char *</td><td><td>mimeType</td><td>
Mime type of the request payload (ENV: CONTENT_TYPE).
</td>
    <tr><td class="param">MaPacket *</td><td><td>packet</td><td>
Current input packet.
</td>
    <tr><td class="param">MprUri *</td><td><td>parsedUri</td><td>
Parsed query string. 
parsedUri-&gt;query is the query string.
</td>
    <tr><td class="param">char *</td><td><td>pathInfo</td><td>
Extra path information (ENV: PATH_INFO).
</td>
    <tr><td class="param">char *</td><td><td>pathTranslated</td><td>
Mapped extraPath to storage (ENV: PATH_TRANSLATED).
</td>
    <tr><td class="param">char *</td><td><td>pragma</td><td>
Pragma header.
</td>
    <tr><td class="param">MaRange *</td><td><td>ranges</td><td>
Requested ranges for response data.
</td>
    <tr><td class="param">int</td><td><td>receivedContent</td><td>
Length of content actually received.
</td>
    <tr><td class="param">char *</td><td><td>referer</td><td>
Refering URL.
</td>
    <tr><td class="param">int</td><td><td>remainingContent</td><td>
Remaining content data to read.
</td>
    <tr><td class="param">MprTime</td><td><td>since</td><td>
If-Modified date.
</td>
    <tr><td class="param">char *</td><td><td>url</td><td>
Decoded URL. 
Doesn&apos;t include scheme, host, extra path, query or fragments.
</td>
    <tr><td class="param">char *</td><td><td>user</td><td>
Remote user (ENV: REMOTE_USER).
</td>
    <tr><td class="param">char *</td><td><td>userAgent</td><td>
User-Agent header.
</td>
    </table></dd></dl>
  </div>
</div>
<a name="group___ma_request_1g84747a5a50d80576d3c24fe917ef3583"></a>
<div class="api">
  <div class="prototype">
    void
    maAddVars
(MaConn *conn, cchar *buf, int len)
  </div>
  <div class="apiDetail">
<p>Add query and post form variables.</p>
    <dl><dt><b>Description</b>:</dt><dd>Add new variables encoded in the supplied buffer.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">buf</td><td>Buffer containing www-urlencoded data.</td>
    <tr><td class="param">len</td><td>Length of buf.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_request_1g37f287f2db074d1f53cd14c4d041f0b5" class="ref">maCompareFormVar</a>, <a href="#group___ma_request_1gfabbafae1edfe71c6961fb7b3517a555" class="ref">maGetCookies</a>, <a href="#group___ma_request_1g8ebdb53755a8a2af8b14b9739ed458f9" class="ref">maGetFormVar</a>, <a href="#group___ma_request_1g47566765cffb453045d103b07a3ffdc6" class="ref">maGetIntFormVar</a>, <a href="#group___ma_request_1gbc322b0f9a0cd9736e63fb5996966d55" class="ref">maGetQueryString</a>, <a href="#group___ma_request_1g8ea727d5e958015dbeeffeeceb6e5be0" class="ref">maSetFormVar</a>, <a href="#group___ma_request_1g5de91ec793b3a728c142c017f89c8310" class="ref">maSetIntFormVar</a>, <a href="#group___ma_request_1gc0ca4ed4a140bb47717430c890c070d6" class="ref">maTestFormVar</a></dd></dl>
  </div>
</div>
<a name="group___ma_request_1g37f287f2db074d1f53cd14c4d041f0b5"></a>
<div class="api">
  <div class="prototype">
    int
    maCompareFormVar
(MaConn *conn, cchar *var, cchar *value)
  </div>
  <div class="apiDetail">
<p>Compare a form variable.</p>
    <dl><dt><b>Description</b>:</dt><dd>Compare a form variable and return true if it exists and its value matches.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">var</td><td>Name of the form variable.</td>
    <tr><td class="param">value</td><td>Value to compare.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if the value matches.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_request_1gfabbafae1edfe71c6961fb7b3517a555" class="ref">maGetCookies</a>, <a href="#group___ma_request_1g8ebdb53755a8a2af8b14b9739ed458f9" class="ref">maGetFormVar</a>, <a href="#group___ma_request_1g47566765cffb453045d103b07a3ffdc6" class="ref">maGetIntFormVar</a>, <a href="#group___ma_request_1gbc322b0f9a0cd9736e63fb5996966d55" class="ref">maGetQueryString</a>, <a href="#group___ma_request_1g8ea727d5e958015dbeeffeeceb6e5be0" class="ref">maSetFormVar</a>, <a href="#group___ma_request_1g5de91ec793b3a728c142c017f89c8310" class="ref">maSetIntFormVar</a>, <a href="#group___ma_request_1gc0ca4ed4a140bb47717430c890c070d6" class="ref">maTestFormVar</a></dd></dl>
  </div>
</div>
<a name="group___ma_request_1gfabbafae1edfe71c6961fb7b3517a555"></a>
<div class="api">
  <div class="prototype">
    cchar *
    maGetCookies
(MaConn *conn)
  </div>
  <div class="apiDetail">
<p>Get the cookies.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the cookies defined in the current requeset.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Return a string containing the cookies sent in the Http header of the last request.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_request_1g37f287f2db074d1f53cd14c4d041f0b5" class="ref">maCompareFormVar</a>, <a href="#group___ma_request_1g8ebdb53755a8a2af8b14b9739ed458f9" class="ref">maGetFormVar</a>, <a href="#group___ma_request_1g47566765cffb453045d103b07a3ffdc6" class="ref">maGetIntFormVar</a>, <a href="#group___ma_request_1gbc322b0f9a0cd9736e63fb5996966d55" class="ref">maGetQueryString</a>, <a href="#group___ma_request_1g8ea727d5e958015dbeeffeeceb6e5be0" class="ref">maSetFormVar</a>, <a href="#group___ma_request_1g5de91ec793b3a728c142c017f89c8310" class="ref">maSetIntFormVar</a>, <a href="#group___ma_request_1gc0ca4ed4a140bb47717430c890c070d6" class="ref">maTestFormVar</a></dd></dl>
  </div>
</div>
<a name="group___ma_request_1g8ebdb53755a8a2af8b14b9739ed458f9"></a>
<div class="api">
  <div class="prototype">
    cchar *
    maGetFormVar
(MaConn *conn, cchar *var, cchar *defaultValue)
  </div>
  <div class="apiDetail">
<p>Get a form variable.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the value of a named form variable. Form variables are define via www-urlencoded query or post data contained in the request.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">var</td><td>Name of the form variable to retrieve.</td>
    <tr><td class="param">defaultValue</td><td>Default value to return if the variable is not defined. Can be null.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>String containing the form variable&apos;s value. Caller should not free.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_request_1g37f287f2db074d1f53cd14c4d041f0b5" class="ref">maCompareFormVar</a>, <a href="#group___ma_request_1gfabbafae1edfe71c6961fb7b3517a555" class="ref">maGetCookies</a>, <a href="#group___ma_request_1g47566765cffb453045d103b07a3ffdc6" class="ref">maGetIntFormVar</a>, <a href="#group___ma_request_1gbc322b0f9a0cd9736e63fb5996966d55" class="ref">maGetQueryString</a>, <a href="#group___ma_request_1g8ea727d5e958015dbeeffeeceb6e5be0" class="ref">maSetFormVar</a>, <a href="#group___ma_request_1g5de91ec793b3a728c142c017f89c8310" class="ref">maSetIntFormVar</a>, <a href="#group___ma_request_1gc0ca4ed4a140bb47717430c890c070d6" class="ref">maTestFormVar</a></dd></dl>
  </div>
</div>
<a name="group___ma_request_1g47566765cffb453045d103b07a3ffdc6"></a>
<div class="api">
  <div class="prototype">
    int
    maGetIntFormVar
(MaConn *conn, cchar *var, int defaultValue)
  </div>
  <div class="apiDetail">
<p>Get a form variable as an integer.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the value of a named form variable as an integer. Form variables are define via www-urlencoded query or post data contained in the request.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">var</td><td>Name of the form variable to retrieve.</td>
    <tr><td class="param">defaultValue</td><td>Default value to return if the variable is not defined. Can be null.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Integer containing the form variable&apos;s value.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_request_1g37f287f2db074d1f53cd14c4d041f0b5" class="ref">maCompareFormVar</a>, <a href="#group___ma_request_1gfabbafae1edfe71c6961fb7b3517a555" class="ref">maGetCookies</a>, <a href="#group___ma_request_1g8ebdb53755a8a2af8b14b9739ed458f9" class="ref">maGetFormVar</a>, <a href="#group___ma_request_1gbc322b0f9a0cd9736e63fb5996966d55" class="ref">maGetQueryString</a>, <a href="#group___ma_request_1g8ea727d5e958015dbeeffeeceb6e5be0" class="ref">maSetFormVar</a>, <a href="#group___ma_request_1g5de91ec793b3a728c142c017f89c8310" class="ref">maSetIntFormVar</a>, <a href="#group___ma_request_1gc0ca4ed4a140bb47717430c890c070d6" class="ref">maTestFormVar</a></dd></dl>
  </div>
</div>
<a name="group___ma_request_1gbc322b0f9a0cd9736e63fb5996966d55"></a>
<div class="api">
  <div class="prototype">
    cchar *
    maGetQueryString
(MaConn *conn)
  </div>
  <div class="apiDetail">
<p>Get the request query string.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get query string sent with the current request.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>String containing the request query string. Caller should not free.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_request_1g37f287f2db074d1f53cd14c4d041f0b5" class="ref">maCompareFormVar</a>, <a href="#group___ma_request_1gfabbafae1edfe71c6961fb7b3517a555" class="ref">maGetCookies</a>, <a href="#group___ma_request_1g8ebdb53755a8a2af8b14b9739ed458f9" class="ref">maGetFormVar</a>, <a href="#group___ma_request_1g47566765cffb453045d103b07a3ffdc6" class="ref">maGetIntFormVar</a>, <a href="#group___ma_request_1g8ea727d5e958015dbeeffeeceb6e5be0" class="ref">maSetFormVar</a>, <a href="#group___ma_request_1g5de91ec793b3a728c142c017f89c8310" class="ref">maSetIntFormVar</a>, <a href="#group___ma_request_1gc0ca4ed4a140bb47717430c890c070d6" class="ref">maTestFormVar</a></dd></dl>
  </div>
</div>
<a name="group___ma_request_1g8ea727d5e958015dbeeffeeceb6e5be0"></a>
<div class="api">
  <div class="prototype">
    void
    maSetFormVar
(MaConn *conn, cchar *var, cchar *value)
  </div>
  <div class="apiDetail">
<p>Set a form variable value.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the value of a named form variable to a string value. Form variables are define via www-urlencoded query or post data contained in the request.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">var</td><td>Name of the form variable to retrieve.</td>
    <tr><td class="param">value</td><td>Default value to return if the variable is not defined. Can be null.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_request_1g37f287f2db074d1f53cd14c4d041f0b5" class="ref">maCompareFormVar</a>, <a href="#group___ma_request_1gfabbafae1edfe71c6961fb7b3517a555" class="ref">maGetCookies</a>, <a href="#group___ma_request_1g8ebdb53755a8a2af8b14b9739ed458f9" class="ref">maGetFormVar</a>, <a href="#group___ma_request_1g47566765cffb453045d103b07a3ffdc6" class="ref">maGetIntFormVar</a>, <a href="#group___ma_request_1gbc322b0f9a0cd9736e63fb5996966d55" class="ref">maGetQueryString</a>, <a href="#group___ma_request_1g5de91ec793b3a728c142c017f89c8310" class="ref">maSetIntFormVar</a>, <a href="#group___ma_request_1gc0ca4ed4a140bb47717430c890c070d6" class="ref">maTestFormVar</a></dd></dl>
  </div>
</div>
<a name="group___ma_request_1g5de91ec793b3a728c142c017f89c8310"></a>
<div class="api">
  <div class="prototype">
    void
    maSetIntFormVar
(MaConn *conn, cchar *var, int value)
  </div>
  <div class="apiDetail">
<p>Set a form variable value.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the value of a named form variable to an integer value. Form variables are define via www-urlencoded query or post data contained in the request.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">var</td><td>Name of the form variable to retrieve.</td>
    <tr><td class="param">value</td><td>Default value to return if the variable is not defined. Can be null.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_request_1g37f287f2db074d1f53cd14c4d041f0b5" class="ref">maCompareFormVar</a>, <a href="#group___ma_request_1gfabbafae1edfe71c6961fb7b3517a555" class="ref">maGetCookies</a>, <a href="#group___ma_request_1g8ebdb53755a8a2af8b14b9739ed458f9" class="ref">maGetFormVar</a>, <a href="#group___ma_request_1g47566765cffb453045d103b07a3ffdc6" class="ref">maGetIntFormVar</a>, <a href="#group___ma_request_1gbc322b0f9a0cd9736e63fb5996966d55" class="ref">maGetQueryString</a>, <a href="#group___ma_request_1g8ea727d5e958015dbeeffeeceb6e5be0" class="ref">maSetFormVar</a>, <a href="#group___ma_request_1gc0ca4ed4a140bb47717430c890c070d6" class="ref">maTestFormVar</a></dd></dl>
  </div>
</div>
<a name="group___ma_request_1gc0ca4ed4a140bb47717430c890c070d6"></a>
<div class="api">
  <div class="prototype">
    int
    maTestFormVar
(MaConn *conn, cchar *var)
  </div>
  <div class="apiDetail">
<p>Test if a form variable is defined.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">var</td><td>Name of the form variable to retrieve.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if the form variable is defined.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_request_1g37f287f2db074d1f53cd14c4d041f0b5" class="ref">maCompareFormVar</a>, <a href="#group___ma_request_1gfabbafae1edfe71c6961fb7b3517a555" class="ref">maGetCookies</a>, <a href="#group___ma_request_1g8ebdb53755a8a2af8b14b9739ed458f9" class="ref">maGetFormVar</a>, <a href="#group___ma_request_1g47566765cffb453045d103b07a3ffdc6" class="ref">maGetIntFormVar</a>, <a href="#group___ma_request_1gbc322b0f9a0cd9736e63fb5996966d55" class="ref">maGetQueryString</a>, <a href="#group___ma_request_1g8ea727d5e958015dbeeffeeceb6e5be0" class="ref">maSetFormVar</a>, <a href="#group___ma_request_1g5de91ec793b3a728c142c017f89c8310" class="ref">maSetIntFormVar</a></dd></dl>
  </div>
</div>
<h1>MaResponse</h1>
<a name="group___ma_response"></a>
<div class="api">
  <div class="prototype">MaResponse</div>
  <div class="apiDetail">
<p>Http Response.</p>
    <dl><dt><b>Description</b>:</dt><dd>Most of the APIs in the Response group still take a MaConn object as their first parameter. This is to make the API easier to remember - APIs take a connection object rather than a request or response object.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response_1g830c559dddc9e24c5e9ef7ab6d9c8a15" class="ref">maFailRequest</a>, <a href="#group___ma_response_1g57da0308eae17e287c9cc1dbfaed24c3" class="ref">maFormatBody</a>, <a href="#group___ma_response_1g56dd2599b39e1252d66057444f75841b" class="ref">maSetCookie</a></dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">char *</td><td><td>altBody</td><td>
Alternate response for errors.
</td>
    <tr><td class="param">int</td><td><td>bytesWritten</td><td>
Bytes written including headers.
</td>
    <tr><td class="param">int</td><td><td>chunkSize</td><td>
Chunk size to use when using transfer encoding.
</td>
    <tr><td class="param">int</td><td><td>code</td><td>
HTTP response code.
</td>
    <tr><td class="param">struct MaConn *</td><td><td>conn</td><td>
Current connection object.
</td>
    <tr><td class="param">MaStage *</td><td><td>connector</td><td>
Response connector.
</td>
    <tr><td class="param">MaRange *</td><td><td>currentRange</td><td>
Current range being fullfilled.
</td>
    <tr><td class="param">int</td><td><td>entityLength</td><td>
Original content length before range subsetting.
</td>
    <tr><td class="param">char *</td><td><td>etag</td><td>
Unique identifier tag.
</td>
    <tr><td class="param">cchar *</td><td><td>extension</td><td>
Filename extension.
</td>
    <tr><td class="param">MprFile *</td><td><td>file</td><td>
File to be served.
</td>
    <tr><td class="param">MprPath</td><td><td>fileInfo</td><td>
File information if there is a real file to serve.
</td>
    <tr><td class="param">char *</td><td><td>filename</td><td>
Name of a real file being served.
</td>
    <tr><td class="param">int</td><td><td>flags</td><td>
Response flags.
</td>
    <tr><td class="param">MaPacket *</td><td><td>freePackets</td><td>
List of free packets.
</td>
    <tr><td class="param">MaStage *</td><td><td>handler</td><td>
Response handler.
</td>
    <tr><td class="param">void *</td><td><td>handlerData</td><td>
Data reserved for the handler.
</td>
    <tr><td class="param">char *</td><td><td>header</td><td>
HTTP response header.
</td>
    <tr><td class="param">MprHashTable *</td><td><td>headers</td><td>
Custom response headers.
</td>
    <tr><td class="param">int</td><td><td>headerSize</td><td>
Size of the header written.
</td>
    <tr><td class="param">int</td><td><td>length</td><td>
Response content length.
</td>
    <tr><td class="param">cchar *</td><td><td>mimeType</td><td>
Mime type of the response document.
</td>
    <tr><td class="param">MprList *</td><td><td>outputPipeline</td><td>
Output processing.
</td>
    <tr><td class="param">int</td><td><td>pos</td><td>
Current I/O position.
</td>
    <tr><td class="param">MaQueue</td><td><td>queue[2]</td><td>
Dummy head for the response queues.
</td>
    <tr><td class="param">char *</td><td><td>rangeBoundary</td><td>
Inter-range boundary.
</td>
    </table></dd></dl>
  </div>
</div>
<a name="group___ma_response_1g0fc2e324e7bc07b0cbbfe41e6f8bd32e"></a>
<div class="api">
  <div class="prototype">
    void
    maDontCacheResponse
(MaConn *conn)
  </div>
  <div class="apiDetail">
<p>Dont cache the response.</p>
    <dl><dt><b>Description</b>:</dt><dd>Instruct the client not to cache the response body. This is done by setting the Cache-control Http header.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_response_1g830c559dddc9e24c5e9ef7ab6d9c8a15" class="ref">maFailRequest</a>, <a href="#group___ma_response_1g57da0308eae17e287c9cc1dbfaed24c3" class="ref">maFormatBody</a>, <a href="#group___ma_response_1g56dd2599b39e1252d66057444f75841b" class="ref">maSetCookie</a></dd></dl>
  </div>
</div>
<a name="group___ma_response_1g830c559dddc9e24c5e9ef7ab6d9c8a15"></a>
<div class="api">
  <div class="prototype">
    void
    maFailRequest
(MaConn *conn, int code, cchar *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Fail a request.</p>
    <dl><dt><b>Description</b>:</dt><dd>Fail a request with the specified http status code. The formatted message is logged to the appweb error log.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">code</td><td>Http status code.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_response_1g57da0308eae17e287c9cc1dbfaed24c3" class="ref">maFormatBody</a>, <a href="#group___ma_response_1g56dd2599b39e1252d66057444f75841b" class="ref">maSetCookie</a></dd></dl>
  </div>
</div>
<a name="group___ma_response_1g36d93becc818990d715d265f48bb427a"></a>
<div class="api">
  <div class="prototype">
    void
    maFillHeaders
(MaConn *conn, MaPacket *packet)
  </div>
  <div class="apiDetail">
<p>Create the response headers.</p>
    <dl><dt><b>Description</b>:</dt><dd>Fill the given empty packet with the Http response headers. This should only be called by connectors just prior to sending output to the client. It should be delayed as long as possible if the content length is not yet known to give the pipeline a chance to determine the response length. This way, a non-chunked response can be sent with a content-length header. This is the fastest HTTP response.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">packet</td><td>Packet into which to place the headers.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_response_1g830c559dddc9e24c5e9ef7ab6d9c8a15" class="ref">maFailRequest</a>, <a href="#group___ma_response_1g57da0308eae17e287c9cc1dbfaed24c3" class="ref">maFormatBody</a>, <a href="#group___ma_response_1g56dd2599b39e1252d66057444f75841b" class="ref">maSetCookie</a></dd></dl>
  </div>
</div>
<a name="group___ma_response_1g57da0308eae17e287c9cc1dbfaed24c3"></a>
<div class="api">
  <div class="prototype">
    int
    maFormatBody
(MaConn *conn, cchar *title, cchar *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Format an alternate response body.</p>
    <dl><dt><b>Description</b>:</dt><dd>Format a response body to use instead of data generated by the request processing pipeline. This is typically used to send error responses and redirections.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">title</td><td>Title string to format into the HTML response body.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string. This string may contain HTML tags and is not HTML encoded before sending to the user. NOTE: Do not send user input back to the client using this method. Otherwise you open large security holes.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the number of bytes in the response body.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_response_1g830c559dddc9e24c5e9ef7ab6d9c8a15" class="ref">maFailRequest</a>, <a href="#group___ma_response_1g56dd2599b39e1252d66057444f75841b" class="ref">maSetCookie</a></dd></dl>
  </div>
</div>
<a name="group___ma_response_1g1f571cb3b688c6e44d4107b77fceac67"></a>
<div class="api">
  <div class="prototype">
    void
    maRedirect
(MaConn *conn, int code, cchar *uri)
  </div>
  <div class="apiDetail">
<p>Redirect the client.</p>
    <dl><dt><b>Description</b>:</dt><dd>Redirect the client to a new uri.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">code</td><td>Http status code to send with the response.</td>
    <tr><td class="param">uri</td><td>New uri for the client.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_response_1g830c559dddc9e24c5e9ef7ab6d9c8a15" class="ref">maFailRequest</a>, <a href="#group___ma_response_1g57da0308eae17e287c9cc1dbfaed24c3" class="ref">maFormatBody</a>, <a href="#group___ma_response_1g56dd2599b39e1252d66057444f75841b" class="ref">maSetCookie</a></dd></dl>
  </div>
</div>
<a name="group___ma_response_1g56dd2599b39e1252d66057444f75841b"></a>
<div class="api">
  <div class="prototype">
    void
    maSetCookie
(MaConn *conn, cchar *name, cchar *value, cchar *path, cchar *domain, int lifetime, bool secure)
  </div>
  <div class="apiDetail">
<p>Set a response cookie.</p>
    <dl><dt><b>Description</b>:</dt><dd>Define a cookie to send in the response Http header.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">name</td><td>Cookie name.</td>
    <tr><td class="param">value</td><td>Cookie value.</td>
    <tr><td class="param">path</td><td>URI path to which the cookie applies.</td>
    <tr><td class="param">domain</td><td>Domain in which the cookie applies. Must have 2-3 dots.</td>
    <tr><td class="param">lifetime</td><td>Duration for the cookie to persist in seconds.</td>
    <tr><td class="param">secure</td><td>Set to true if the cookie only applies for SSL based connections.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_response_1g830c559dddc9e24c5e9ef7ab6d9c8a15" class="ref">maFailRequest</a>, <a href="#group___ma_response_1g57da0308eae17e287c9cc1dbfaed24c3" class="ref">maFormatBody</a></dd></dl>
  </div>
</div>
<a name="group___ma_response_1ga27b43bad295e5f928fe2f8e5878cf42"></a>
<div class="api">
  <div class="prototype">
    void
    maSetHeader
(MaConn *conn, bool allowMultiple, cchar *key, cchar *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Set a response header.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the response header. If allowMultiple is true, then duplicate keys can be defined. Otherwise, prior key headers are overwritten.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">allowMultiple</td><td>If true, allow duplicate keys of the same value.</td>
    <tr><td class="param">key</td><td>Http response header key.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string to use as the header key value.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_response_1g830c559dddc9e24c5e9ef7ab6d9c8a15" class="ref">maFailRequest</a>, <a href="#group___ma_response_1g57da0308eae17e287c9cc1dbfaed24c3" class="ref">maFormatBody</a>, <a href="#group___ma_response_1g56dd2599b39e1252d66057444f75841b" class="ref">maSetCookie</a></dd></dl>
  </div>
</div>
<a name="group___ma_response_1gb822baf3fa6b7b3d8f68ec858a3fd65c"></a>
<div class="api">
  <div class="prototype">
    void
    maSetResponseCode
(MaConn *conn, int code)
  </div>
  <div class="apiDetail">
<p>Set a Http response code.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the Http response code for the request. This defaults to 200 (OK).</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">code</td><td>Http status code.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_response_1g830c559dddc9e24c5e9ef7ab6d9c8a15" class="ref">maFailRequest</a>, <a href="#group___ma_response_1g57da0308eae17e287c9cc1dbfaed24c3" class="ref">maFormatBody</a>, <a href="#group___ma_response_1g56dd2599b39e1252d66057444f75841b" class="ref">maSetCookie</a></dd></dl>
  </div>
</div>
<a name="group___ma_response_1g63f6f2038aca9e41d71e99a00f880f6d"></a>
<div class="api">
  <div class="prototype">
    void
    maSetResponseMimeType
(MaConn *conn, cchar *mimeType)
  </div>
  <div class="apiDetail">
<p>Set the response mime type.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the response mime type Http header.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">conn</td><td>MaConn connection object.</td>
    <tr><td class="param">mimeType</td><td>Mime type string.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_request" class="ref">MaRequest</a>, <a href="#group___ma_response" class="ref">MaResponse</a>, <a href="#group___ma_response_1g830c559dddc9e24c5e9ef7ab6d9c8a15" class="ref">maFailRequest</a>, <a href="#group___ma_response_1g57da0308eae17e287c9cc1dbfaed24c3" class="ref">maFormatBody</a>, <a href="#group___ma_response_1g56dd2599b39e1252d66057444f75841b" class="ref">maSetCookie</a></dd></dl>
  </div>
</div>
<h1>MaServer</h1>
<a name="group___ma_server"></a>
<div class="api">
  <div class="prototype">MaServer</div>
  <div class="apiDetail">
<p>Http Server Control An application may have any number of HTTP servers, each managed by an instance of the Server class.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_server_1gcf1e50889d272eb52266be2b5f0705b9" class="ref">maConfigureServer</a>, <a href="#group___ma_server_1g0923ebd7f71a2f83ca9fa87509acd6b8" class="ref">maCreateServer</a>, <a href="#group___ma_server_1geedb92f8e2d67d6c9a4648bbd8b4eb37" class="ref">maCreateWebServer</a>, <a href="#group___ma_server_1g64ceb8a0ea7251a2a2bfdec72586d914" class="ref">maLoadStaticModules</a>, <a href="#group___ma_server_1g6c073bcc4ac2c9f8333a42d3ff4555b4" class="ref">maRunSimpleWebServer</a>, <a href="#group___ma_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a>, <a href="#group___ma_server_1g8bdc0c3f12fd140a4483f44ef2280697" class="ref">maServiceWebServer</a></dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">bool</td><td><td>alreadyLogging</td><td>
Already logging.
</td>
    <tr><td class="param">struct MaHost *</td><td><td>defaultHost</td><td>
Primary host.
</td>
    <tr><td class="param">MprList *</td><td><td>hostAddresses</td><td>
List of HostAddress objects.
</td>
    <tr><td class="param">MprList *</td><td><td>hosts</td><td>
List of host objects.
</td>
    <tr><td class="param">MprList *</td><td><td>listens</td><td>
List of listening sockets.
</td>
    <tr><td class="param">int</td><td><td>maxConcurrentRequests</td><td>
Maximum number of clients.
</td>
    <tr><td class="param">char *</td><td><td>name</td><td>
Unique name for this server.
</td>
    <tr><td class="param">char *</td><td><td>serverRoot</td><td>
Server root.
</td>
    </table></dd></dl>
  </div>
</div>
<a name="group___ma_server_1gcf1e50889d272eb52266be2b5f0705b9"></a>
<div class="api">
  <div class="prototype">
    int
    maConfigureServer
(MprCtx ctx, MaHttp *http, MaServer *server, cchar *configFile, cchar *ipAddr, int port, cchar *documentRoot)
  </div>
  <div class="apiDetail">
<p>Configure a web server.</p>
    <dl><dt><b>Description</b>:</dt><dd>This will configure a web server based on either a configuration file or using the supplied IP address and port.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">ctx</td><td>Any memory context object returned by mprAlloc.</td>
    <tr><td class="param">http</td><td>MaHttp object created via <a class="ref" href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b">maCreateHttp</a>.</td>
    <tr><td class="param">server</td><td>MaServer object created via <a class="ref" href="#group___ma_server_1g0923ebd7f71a2f83ca9fa87509acd6b8">maCreateServer</a>.</td>
    <tr><td class="param">configFile</td><td>File name of the Appweb configuration file (appweb.conf) that defines the web server configuration.</td>
    <tr><td class="param">ipAddr</td><td>If using a config file, set to null. Otherwise, set to a host name or IP address.</td>
    <tr><td class="param">port</td><td>If using a config file, set to -1. Otherwise, set to the port number to listen on.</td>
    <tr><td class="param">documentRoot</td><td>If not using a config file, set this to the directory containing the web documents to serve.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_server" class="ref">MaServer</a>, <a href="#group___ma_server_1g0923ebd7f71a2f83ca9fa87509acd6b8" class="ref">maCreateServer</a>, <a href="#group___ma_server_1geedb92f8e2d67d6c9a4648bbd8b4eb37" class="ref">maCreateWebServer</a>, <a href="#group___ma_server_1g64ceb8a0ea7251a2a2bfdec72586d914" class="ref">maLoadStaticModules</a>, <a href="#group___ma_server_1g6c073bcc4ac2c9f8333a42d3ff4555b4" class="ref">maRunSimpleWebServer</a>, <a href="#group___ma_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a>, <a href="#group___ma_server_1g8bdc0c3f12fd140a4483f44ef2280697" class="ref">maServiceWebServer</a></dd></dl>
  </div>
</div>
<a name="group___ma_server_1g0923ebd7f71a2f83ca9fa87509acd6b8"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___ma_server" class="ref">MaServer</a> *
    maCreateServer
(MaHttp *http, cchar *name, cchar *root, cchar *ipAddr, int port)
  </div>
  <div class="apiDetail">
<p>Create a MaServer object.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create new MaServer object. This routine creates a bare MaServer object, loads any required static modules and performs minimal configuration. To use the server object created, more configuration will be required before starting Http services. If you want a one-line embedding of Appweb, use <a class="ref" href="#group___ma_server_1g4994c273e87409b094418dd7bd370ee4">maRunWebServer</a> or <a class="ref" href="#group___ma_server_1g6c073bcc4ac2c9f8333a42d3ff4555b4">maRunSimpleWebServer</a>.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>Http object returned from <a class="ref" href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b">maCreateHttp</a>.</td>
    <tr><td class="param">name</td><td>Name of the web server. This name is used as the initial server name.</td>
    <tr><td class="param">root</td><td>Server root directory.</td>
    <tr><td class="param">ipAddr</td><td>If not-null, create and open a listening endpoint on this IP address. If you are configuring via a config file, use <a class="ref" href="#group___ma_server_1gcf1e50889d272eb52266be2b5f0705b9">maConfigureServer</a> and set ipAddr to null.</td>
    <tr><td class="param">port</td><td>Port number to listen on. Set to -1 if you do not want to open a listening endpoint on ipAddr:port.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>MaServer A newly created MaServer object. Use mprFree to free and release.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_server" class="ref">MaServer</a>, <a href="#group___ma_server_1gcf1e50889d272eb52266be2b5f0705b9" class="ref">maConfigureServer</a>, <a href="#group___ma_server_1geedb92f8e2d67d6c9a4648bbd8b4eb37" class="ref">maCreateWebServer</a>, <a href="#group___ma_server_1g64ceb8a0ea7251a2a2bfdec72586d914" class="ref">maLoadStaticModules</a>, <a href="#group___ma_server_1g6c073bcc4ac2c9f8333a42d3ff4555b4" class="ref">maRunSimpleWebServer</a>, <a href="#group___ma_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a>, <a href="#group___ma_server_1g8bdc0c3f12fd140a4483f44ef2280697" class="ref">maServiceWebServer</a></dd></dl>
  </div>
</div>
<a name="group___ma_server_1geedb92f8e2d67d6c9a4648bbd8b4eb37"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___ma_http" class="ref">MaHttp</a> *
    maCreateWebServer
(cchar *configFile)
  </div>
  <div class="apiDetail">
<p>Create a web server.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a web server configuration based on the supplied config file. Once created, the web server should be run by calling <a class="ref" href="#group___ma_server_1g8bdc0c3f12fd140a4483f44ef2280697">maServiceWebServer</a>. Use this routine when you need access to the MaHttp object. If you want a one-line embedding of Appweb, use <a class="ref" href="#group___ma_server_1g4994c273e87409b094418dd7bd370ee4">maRunWebServer</a> or <a class="ref" href="#group___ma_server_1g6c073bcc4ac2c9f8333a42d3ff4555b4">maRunSimpleWebServer</a>.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">configFile</td><td>File name of the Appweb configuration file (appweb.conf) that defines the web server configuration.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>MaHttp object.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_server" class="ref">MaServer</a>, <a href="#group___ma_server_1gcf1e50889d272eb52266be2b5f0705b9" class="ref">maConfigureServer</a>, <a href="#group___ma_server_1g0923ebd7f71a2f83ca9fa87509acd6b8" class="ref">maCreateServer</a>, <a href="#group___ma_server_1g64ceb8a0ea7251a2a2bfdec72586d914" class="ref">maLoadStaticModules</a>, <a href="#group___ma_server_1g6c073bcc4ac2c9f8333a42d3ff4555b4" class="ref">maRunSimpleWebServer</a>, <a href="#group___ma_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a>, <a href="#group___ma_server_1g8bdc0c3f12fd140a4483f44ef2280697" class="ref">maServiceWebServer</a></dd></dl>
  </div>
</div>
<a name="group___ma_server_1g64ceb8a0ea7251a2a2bfdec72586d914"></a>
<div class="api">
  <div class="prototype">
    void
    maLoadStaticModules
(MaHttp *http)
  </div>
  <div class="apiDetail">
<p>Load static modules.</p>
    <dl><dt><b>Description</b>:</dt><dd>Load the statically configured modules, handlers, filters and connectors. The configure program can specify a static or shared build of Appweb. The <a class="ref" href="#group___ma_server_1g0923ebd7f71a2f83ca9fa87509acd6b8">maCreateServer</a> routine will call maLoadStaticModules automatically. It should not be called by in user programs.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>MaHttp object created via <a class="ref" href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b">maCreateHttp</a>.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_server" class="ref">MaServer</a>, <a href="#group___ma_server_1gcf1e50889d272eb52266be2b5f0705b9" class="ref">maConfigureServer</a>, <a href="#group___ma_server_1g0923ebd7f71a2f83ca9fa87509acd6b8" class="ref">maCreateServer</a>, <a href="#group___ma_server_1geedb92f8e2d67d6c9a4648bbd8b4eb37" class="ref">maCreateWebServer</a>, <a href="#group___ma_server_1g6c073bcc4ac2c9f8333a42d3ff4555b4" class="ref">maRunSimpleWebServer</a>, <a href="#group___ma_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a>, <a href="#group___ma_server_1g8bdc0c3f12fd140a4483f44ef2280697" class="ref">maServiceWebServer</a></dd></dl>
  </div>
</div>
<a name="group___ma_server_1g6c073bcc4ac2c9f8333a42d3ff4555b4"></a>
<div class="api">
  <div class="prototype">
    int
    maRunSimpleWebServer
(cchar *ipAddress, int port, cchar *docRoot)
  </div>
  <div class="apiDetail">
<p>Create and run a simple web server listening on a single IP address.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a simple web server without using a configuration file. The server is created to listen on the specified IP addresss and port. This routine provides is a one-line embedding of Appweb. If you want to use a config file, try the <a class="ref" href="#group___ma_server_1g4994c273e87409b094418dd7bd370ee4">maRunWebServer</a> instead. If you need more control, try <a class="ref" href="#group___ma_server_1geedb92f8e2d67d6c9a4648bbd8b4eb37">maCreateWebServer</a> which exposes the MaHttp object.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">ipAddress</td><td>IP address on which to listen. Set to &quot;0.0.0.0&quot; to listen on all interfaces.</td>
    <tr><td class="param">port</td><td>Port number to listen to.</td>
    <tr><td class="param">docRoot</td><td>Directory containing the documents to serve.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_server" class="ref">MaServer</a>, <a href="#group___ma_server_1gcf1e50889d272eb52266be2b5f0705b9" class="ref">maConfigureServer</a>, <a href="#group___ma_server_1g0923ebd7f71a2f83ca9fa87509acd6b8" class="ref">maCreateServer</a>, <a href="#group___ma_server_1geedb92f8e2d67d6c9a4648bbd8b4eb37" class="ref">maCreateWebServer</a>, <a href="#group___ma_server_1g64ceb8a0ea7251a2a2bfdec72586d914" class="ref">maLoadStaticModules</a>, <a href="#group___ma_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a>, <a href="#group___ma_server_1g8bdc0c3f12fd140a4483f44ef2280697" class="ref">maServiceWebServer</a></dd></dl>
  </div>
</div>
<a name="group___ma_server_1g4994c273e87409b094418dd7bd370ee4"></a>
<div class="api">
  <div class="prototype">
    int
    maRunWebServer
(cchar *configFile)
  </div>
  <div class="apiDetail">
<p>Create and run a web server based on a configuration file.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a web server configuration based on the supplied config file. This routine provides is a one-line embedding of Appweb. If you don&apos;t want to use a config file, try the <a class="ref" href="#group___ma_server_1g6c073bcc4ac2c9f8333a42d3ff4555b4">maRunSimpleWebServer</a> instead. If you need more control, try <a class="ref" href="#group___ma_server_1geedb92f8e2d67d6c9a4648bbd8b4eb37">maCreateWebServer</a> which exposes the MaHttp object.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">configFile</td><td>File name of the Appweb configuration file (appweb.conf) that defines the web server configuration.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_server" class="ref">MaServer</a>, <a href="#group___ma_server_1gcf1e50889d272eb52266be2b5f0705b9" class="ref">maConfigureServer</a>, <a href="#group___ma_server_1g0923ebd7f71a2f83ca9fa87509acd6b8" class="ref">maCreateServer</a>, <a href="#group___ma_server_1geedb92f8e2d67d6c9a4648bbd8b4eb37" class="ref">maCreateWebServer</a>, <a href="#group___ma_server_1g64ceb8a0ea7251a2a2bfdec72586d914" class="ref">maLoadStaticModules</a>, <a href="#group___ma_server_1g6c073bcc4ac2c9f8333a42d3ff4555b4" class="ref">maRunSimpleWebServer</a>, <a href="#group___ma_server_1g8bdc0c3f12fd140a4483f44ef2280697" class="ref">maServiceWebServer</a></dd></dl>
  </div>
</div>
<a name="group___ma_server_1g8bdc0c3f12fd140a4483f44ef2280697"></a>
<div class="api">
  <div class="prototype">
    int
    maServiceWebServer
(MaHttp *http)
  </div>
  <div class="apiDetail">
<p>Service a web server.</p>
    <dl><dt><b>Description</b>:</dt><dd>Run a web server configuration. This is will start http services via <a class="ref" href="#group___ma_http_1g99ce78ac41ef6ff1d91a89ff832e0e09">maStartHttp</a> and will service incoming Http requests until instructed to exit. This is often used in conjunction with <a class="ref" href="#group___ma_server_1geedb92f8e2d67d6c9a4648bbd8b4eb37">maCreateWebServer</a>.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>Http object created via <a class="ref" href="#group___ma_server_1geedb92f8e2d67d6c9a4648bbd8b4eb37">maCreateWebServer</a> or <a class="ref" href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b">maCreateHttp</a>.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative Mpr error code. See the Appweb log for diagnostics.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_server" class="ref">MaServer</a>, <a href="#group___ma_server_1gcf1e50889d272eb52266be2b5f0705b9" class="ref">maConfigureServer</a>, <a href="#group___ma_server_1g0923ebd7f71a2f83ca9fa87509acd6b8" class="ref">maCreateServer</a>, <a href="#group___ma_server_1geedb92f8e2d67d6c9a4648bbd8b4eb37" class="ref">maCreateWebServer</a>, <a href="#group___ma_server_1g64ceb8a0ea7251a2a2bfdec72586d914" class="ref">maLoadStaticModules</a>, <a href="#group___ma_server_1g6c073bcc4ac2c9f8333a42d3ff4555b4" class="ref">maRunSimpleWebServer</a>, <a href="#group___ma_server_1g4994c273e87409b094418dd7bd370ee4" class="ref">maRunWebServer</a></dd></dl>
  </div>
</div>
<h1>MaStage</h1>
<a name="group___ma_stage"></a>
<div class="api">
  <div class="prototype">MaStage</div>
  <div class="apiDetail">
<p>Pipeline Stages.</p>
    <dl><dt><b>Description</b>:</dt><dd>The request pipeline consists of a full-duplex pipeline of stages. Stages are used to process client HTTP requests in a modular fashion. Each stage either creates, filters or consumes data packets. The MaStage structure describes the stage capabilities and callbacks. Each stage has two queues, one for outgoing data and one for incoming data. <br/><br/>
 Stages provide callback methods for parsing configuration, matching requests, open/close, run and the acceptance and service of incoming and outgoing data.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_stage_1gae8a1d46596ad3b2d5cab64cdb990bea" class="ref">maCreateConnector</a>, <a href="#group___ma_stage_1g76649359285602dad41f06296ea202ee" class="ref">maCreateFilter</a>, <a href="#group___ma_stage_1ga36718a34d0b490721e8df7eb924bcda" class="ref">maCreateHandler</a>, <a href="#group___ma_stage_1gf1099e94d48dd7c2e28cf817ad154001" class="ref">maDefaultOutgoingServiceStage</a>, <a href="#group___ma_stage_1g8816a886d780811924ca6c1bb076a122" class="ref">maLookupStageData</a></dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">void(*</td><td><td>close)(MaQueue *q)</td><td>
Close the queue. 
<simplesect kind="par"><b>Description</b>:Close the queue instance </simplesect><parameterlist kind="param"><parameteritem><parameternamelist><parametername>q</parametername></parameternamelist><parameterdescription>Queue instance object </parameterdescription></parameteritem></parameterlist>.
</td>
    <tr><td class="param">int</td><td><td>flags</td><td>
Stage flags.
</td>
    <tr><td class="param">void(*</td><td><td>incomingData)(MaQueue *q, MaPacket *packet)</td><td>
Process incoming data. 
<simplesect kind="par"><b>Description</b>:Accept an incoming packet of data </simplesect><parameterlist kind="param"><parameteritem><parameternamelist><parametername>q</parametername></parameternamelist><parameterdescription>Queue instance object </parameterdescription></parameteritem><parameteritem><parameternamelist><parametername>packet</parametername></parameternamelist><parameterdescription>Packet of data </parameterdescription></parameteritem></parameterlist>.
</td>
    <tr><td class="param">void(*</td><td><td>incomingService)(MaQueue *q)</td><td>
Service the incoming data queue. 
<parameterlist kind="param"><parameteritem><parameternamelist><parametername>q</parametername></parameternamelist><parameterdescription>Queue instance object </parameterdescription></parameteritem></parameterlist>.
</td>
    <tr><td class="param">bool(*</td><td><td>match)(struct MaConn *conn, struct MaStage *stage, cchar *uri)</td><td>
Match a request. 
<simplesect kind="par"><b>Description</b>:This method is invoked to see if the stage wishes to handle the request. If a stage denies to handle a request, it will be removed from the pipeline. </simplesect><parameterlist kind="param"><parameteritem><parameternamelist><parametername>conn</parametername></parameternamelist><parameterdescription>MaConn connection object </parameterdescription></parameteritem><parameteritem><parameternamelist><parametername>stage</parametername></parameternamelist><parameterdescription>Stage object </parameterdescription></parameteritem><parameteritem><parameternamelist><parametername>uri</parametername></parameternamelist><parameterdescription>Current request URI </parameterdescription></parameteritem></parameterlist><simplesect kind="return">True if the stage wishes to process this request. </simplesect>.
</td>
    <tr><td class="param">MprMutex *</td><td><td>mutex</td><td>
Multi-thread sync.
</td>
    <tr><td class="param">char *</td><td><td>name</td><td>
Stage name.
</td>
    <tr><td class="param">void(*</td><td><td>open)(MaQueue *q)</td><td>
Open the queue. 
<simplesect kind="par"><b>Description</b>:Open the queue instance and initialize for this request. </simplesect><parameterlist kind="param"><parameteritem><parameternamelist><parametername>q</parametername></parameternamelist><parameterdescription>Queue instance object </parameterdescription></parameteritem></parameterlist>.
</td>
    <tr><td class="param">void(*</td><td><td>outgoingData)(MaQueue *q, MaPacket *packet)</td><td>
Process outgoing data. 
<simplesect kind="par"><b>Description</b>:Accept a packet as outgoing data </simplesect><parameterlist kind="param"><parameteritem><parameternamelist><parametername>q</parametername></parameternamelist><parameterdescription>Queue instance object </parameterdescription></parameteritem><parameteritem><parameternamelist><parametername>packet</parametername></parameternamelist><parameterdescription>Packet of data </parameterdescription></parameteritem></parameterlist>.
</td>
    <tr><td class="param">void(*</td><td><td>outgoingService)(MaQueue *q)</td><td>
Service the outgoing data queue. 
<parameterlist kind="param"><parameteritem><parameternamelist><parametername>q</parametername></parameternamelist><parameterdescription>Queue instance object </parameterdescription></parameteritem></parameterlist>.
</td>
    <tr><td class="param">int(*</td><td><td>parse)(MaHttp *http, cchar *key, char *value, MaConfigState *state)</td><td>
Parse configuration data. 
<simplesect kind="par"><b>Description</b>:This is invoked when parsing appweb configuration files </simplesect><parameterlist kind="param"><parameteritem><parameternamelist><parametername>http</parametername></parameternamelist><parameterdescription>MaHttp object </parameterdescription></parameteritem><parameteritem><parameternamelist><parametername>key</parametername></parameternamelist><parameterdescription>Configuration directive name </parameterdescription></parameteritem><parameteritem><parameternamelist><parametername>value</parametername></parameternamelist><parameterdescription>Configuration directive value </parameterdescription></parameteritem><parameteritem><parameternamelist><parametername>state</parametername></parameternamelist><parameterdescription>Current configuration parsing state </parameterdescription></parameteritem></parameterlist><simplesect kind="return">Zero if the key was not relevant to this stage. Return 1 if the directive applies to this stage and was accepted. </simplesect>.
</td>
    <tr><td class="param">void(*</td><td><td>run)(MaQueue *q)</td><td>
Run the queue. 
<simplesect kind="par"><b>Description</b>:The queue is run after all incoming data has been received. </simplesect><parameterlist kind="param"><parameteritem><parameternamelist><parametername>q</parametername></parameternamelist><parameterdescription>Queue instance object </parameterdescription></parameteritem></parameterlist>.
</td>
    <tr><td class="param">void *</td><td><td>stageData</td><td>
Per-stage data.
</td>
    </table></dd></dl>
  </div>
</div>
<a name="group___ma_stage_1gae8a1d46596ad3b2d5cab64cdb990bea"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___ma_stage" class="ref">MaStage</a> *
    maCreateConnector
(MaHttp *http, cchar *name, int flags)
  </div>
  <div class="apiDetail">
<p>Create a connector stage.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a new connector. Connectors are the final stage for outgoing data. Their job is to transmit outgoing data to the client.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>MaHttp object returned from <a class="ref" href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b">maCreateHttp</a>.</td>
    <tr><td class="param">name</td><td>Name of connector stage.</td>
    <tr><td class="param">flags</td><td>Stage flags mask. These specify what Http request methods will be supported by this stage. Or together any of the following flags: <ul><li>MA_STAGE_DELETE - Support DELETE requests </li><li>MA_STAGE_GET - Support GET requests </li><li>MA_STAGE_HEAD - Support HEAD requests </li><li>MA_STAGE_OPTIONS - Support OPTIONS requests </li><li>MA_STAGE_POST - Support POST requests </li><li>MA_STAGE_PUT - Support PUT requests </li><li>MA_STAGE_TRACE - Support TRACE requests </li><li>MA_STAGE_ALL - Mask to support all methods </li></ul>.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A new stage object.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_stage" class="ref">MaStage</a>, <a href="#group___ma_stage_1g76649359285602dad41f06296ea202ee" class="ref">maCreateFilter</a>, <a href="#group___ma_stage_1ga36718a34d0b490721e8df7eb924bcda" class="ref">maCreateHandler</a>, <a href="#group___ma_stage_1gf1099e94d48dd7c2e28cf817ad154001" class="ref">maDefaultOutgoingServiceStage</a>, <a href="#group___ma_stage_1g8816a886d780811924ca6c1bb076a122" class="ref">maLookupStageData</a></dd></dl>
  </div>
</div>
<a name="group___ma_stage_1g76649359285602dad41f06296ea202ee"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___ma_stage" class="ref">MaStage</a> *
    maCreateFilter
(MaHttp *http, cchar *name, int flags)
  </div>
  <div class="apiDetail">
<p>Create a filter stage.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a new filter. Filters transform data generated by handlers and before connectors transmit to the client. Filters can apply transformations to incoming, outgoing or bi-directional data.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>MaHttp object returned from <a class="ref" href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b">maCreateHttp</a>.</td>
    <tr><td class="param">name</td><td>Name of connector stage.</td>
    <tr><td class="param">flags</td><td>Stage flags mask. These specify what Http request methods will be supported by this stage. Or together any of the following flags: <ul><li>MA_STAGE_DELETE - Support DELETE requests </li><li>MA_STAGE_GET - Support GET requests </li><li>MA_STAGE_HEAD - Support HEAD requests </li><li>MA_STAGE_OPTIONS - Support OPTIONS requests </li><li>MA_STAGE_POST - Support POST requests </li><li>MA_STAGE_PUT - Support PUT requests </li><li>MA_STAGE_TRACE - Support TRACE requests </li><li>MA_STAGE_ALL - Mask to support all methods </li></ul>.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A new stage object.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_stage" class="ref">MaStage</a>, <a href="#group___ma_stage_1gae8a1d46596ad3b2d5cab64cdb990bea" class="ref">maCreateConnector</a>, <a href="#group___ma_stage_1ga36718a34d0b490721e8df7eb924bcda" class="ref">maCreateHandler</a>, <a href="#group___ma_stage_1gf1099e94d48dd7c2e28cf817ad154001" class="ref">maDefaultOutgoingServiceStage</a>, <a href="#group___ma_stage_1g8816a886d780811924ca6c1bb076a122" class="ref">maLookupStageData</a></dd></dl>
  </div>
</div>
<a name="group___ma_stage_1ga36718a34d0b490721e8df7eb924bcda"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___ma_stage" class="ref">MaStage</a> *
    maCreateHandler
(MaHttp *http, cchar *name, int flags)
  </div>
  <div class="apiDetail">
<p>Create a request handler stage.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a new handler. Handlers generate outgoing data and are the final stage for incoming data. Their job is to process requests and send outgoing data downstream toward the client consumer. There is ever only one handler for a request.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>MaHttp object returned from <a class="ref" href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b">maCreateHttp</a>.</td>
    <tr><td class="param">name</td><td>Name of connector stage.</td>
    <tr><td class="param">flags</td><td>Stage flags mask. These specify what Http request methods will be supported by this stage. Or together any of the following flags: <ul><li>MA_STAGE_DELETE - Support DELETE requests </li><li>MA_STAGE_GET - Support GET requests </li><li>MA_STAGE_HEAD - Support HEAD requests </li><li>MA_STAGE_OPTIONS - Support OPTIONS requests </li><li>MA_STAGE_POST - Support POST requests </li><li>MA_STAGE_PUT - Support PUT requests </li><li>MA_STAGE_TRACE - Support TRACE requests </li><li>MA_STAGE_ALL - Mask to support all methods </li></ul>.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A new stage object.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_stage" class="ref">MaStage</a>, <a href="#group___ma_stage_1gae8a1d46596ad3b2d5cab64cdb990bea" class="ref">maCreateConnector</a>, <a href="#group___ma_stage_1g76649359285602dad41f06296ea202ee" class="ref">maCreateFilter</a>, <a href="#group___ma_stage_1gf1099e94d48dd7c2e28cf817ad154001" class="ref">maDefaultOutgoingServiceStage</a>, <a href="#group___ma_stage_1g8816a886d780811924ca6c1bb076a122" class="ref">maLookupStageData</a></dd></dl>
  </div>
</div>
<a name="group___ma_stage_1gf1099e94d48dd7c2e28cf817ad154001"></a>
<div class="api">
  <div class="prototype">
    void
    maDefaultOutgoingServiceStage
(MaQueue *q)
  </div>
  <div class="apiDetail">
<p>Default outgoing data handling.</p>
    <dl><dt><b>Description</b>:</dt><dd>This routine provides default handling of outgoing data for stages. It simply sends all packets downstream.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">q</td><td>Queue object.</td>
    </table></dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_stage" class="ref">MaStage</a>, <a href="#group___ma_stage_1gae8a1d46596ad3b2d5cab64cdb990bea" class="ref">maCreateConnector</a>, <a href="#group___ma_stage_1g76649359285602dad41f06296ea202ee" class="ref">maCreateFilter</a>, <a href="#group___ma_stage_1ga36718a34d0b490721e8df7eb924bcda" class="ref">maCreateHandler</a>, <a href="#group___ma_stage_1g8816a886d780811924ca6c1bb076a122" class="ref">maLookupStageData</a></dd></dl>
  </div>
</div>
<a name="group___ma_stage_1g8816a886d780811924ca6c1bb076a122"></a>
<div class="api">
  <div class="prototype">
    void *
    maLookupStageData
(MaHttp *http, cchar *name)
  </div>
  <div class="apiDetail">
<p>Lookup stage data.</p>
    <dl><dt><b>Description</b>:</dt><dd>This looks up the stage by name and returns the private stage data.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" summary="Parameters">
    <tr><td class="param">http</td><td>MaHttp object returned from <a class="ref" href="#group___ma_http_1g5469e3e74d12d36088d1e53b9affe53b">maCreateHttp</a>.</td>
    <tr><td class="param">name</td><td>Name of the stage concerned.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Reference to the stage data block.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#group___ma_conn" class="ref">MaConn</a>, <a href="#group___ma_queue" class="ref">MaQueue</a>, <a href="#group___ma_stage" class="ref">MaStage</a>, <a href="#group___ma_stage_1gae8a1d46596ad3b2d5cab64cdb990bea" class="ref">maCreateConnector</a>, <a href="#group___ma_stage_1g76649359285602dad41f06296ea202ee" class="ref">maCreateFilter</a>, <a href="#group___ma_stage_1ga36718a34d0b490721e8df7eb924bcda" class="ref">maCreateHandler</a>, <a href="#group___ma_stage_1gf1099e94d48dd7c2e28cf817ad154001" class="ref">maDefaultOutgoingServiceStage</a></dd></dl>
  </div>
</div>
<h1>MaUploadFile</h1>
<a name="group___ma_upload_file"></a>
<div class="api">
  <div class="prototype">MaUploadFile</div>
  <div class="apiDetail">
<p>Upload File Each uploaded file has an MaUploadedFile entry.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" summary="Parameters">
    </table></dd></dl>
  </div>
</div>
<h2>Functions</h2>
<h2>Typedefs</h2>
