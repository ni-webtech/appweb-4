<!-- BeginDsi "dsi/head.html" -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Embedthis Appweb 4.0.0 Documentation</title>
    <meta name="keywords" content="embedded web server, web server software, embedded HTTP, application web server, 
        embedded server, small web server, HTTP server, library web server, library HTTP, HTTP library" />
    <meta name="description" content="Embedthis Sofware provides commercial and open source embedded web servers for 
        devices and applications." />
	<meta name="robots" content="index,follow" />
	<link href="../../../../doc.css" rel="stylesheet" type="text/css" />
	<link href="../../../../print.css" rel="stylesheet" type="text/css" media="print"/>
    <!--[if IE]>
    <link href="../../../../iehacks.css" rel="stylesheet" type="text/css" />
    <![endif]-->
    <link href="http://www.google.com/cse/style/look/default.css" type="text/css" rel="stylesheet" />
</head>

<body>
    <div class="top">
        <a class="logo" href="http://appwebserver.org/">&nbsp;</a>
        <div class="topRight">
            <div class="search">
                <div id="cse-search-form"></div>
                <div class="version">Embedthis Appweb 4.0.0</div>
            </div>
        </div>
        <div class="crumbs">
            <a href="../../../../index.html">Home</a>
<!-- EndDsi -->
             &gt; <a href="../index.html">Users Guide</a> &gt; <a href="../configuration.html#directives">Configuration
            Directives</a> &gt; <b>Logging Directives</b>
        </div>
    </div>
    <div class="content">
        <div class="contentRight">
            <h1>Quick Nav</h1>
            <ul>
                <li><a href="#accessLog">AccessLog</a></li>
                <li><a href="#errorLog">ErrorLog</a></li>
                <li><a href="#log">Log</a></li>
            </ul>
            <h1>See Also</h1>
            <ul>
                <li><a href="../logFiles.html">Logging Overview</a></li>
                <li><a href="../../../../guide/appweb/users/configuration.html">Configuration</a></li>
                <li><a href="../configuration.html#directives">Configuration Directives</a></li>
            </ul>
        </div>
        <div class="contentLeft">
            <h1>Logging Directives</h1><a id="accessLog"></a>
            <h2>AccessLog</h2>
            <table class="directive" title="directive">
                <thead>
                    <tr>
                        <th class="pivot">Description</th>
                        <th>Configure a request access log.</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="pivot">Synopsis</td>
                        <td>AccessLog path <br/>
                            &nbsp; &rarr; [size=bytes] <br/>
                            &nbsp; &rarr; [backup=count] <br/>
                            &nbsp; &rarr; [append] <br/>
                            &nbsp; &rarr; [anew]</td>
                    </tr>
                    <tr>
                        <td class="pivot">Context</td>
                        <td>Default Server, Virtual Host, Route</td>
                    </tr>
                    <tr>
                        <td class="pivot">Example</td>
                        <td>AccessLog access.log size=1MB backup=5 append anew</td>
                    </tr>
                    <tr>
                        <td class="pivot">Notes</td>
                        <td>
                            <p>The AccessLog directive configures an access log that Appweb uses to log completed
                            HTTP requests for the current route. The given path may be an absolute filename or it may be
                            relative to the ServerRoot. The AccessLog directive is inherited from outer routes in the
                            config file.</p>
                            <p>The <em>size</em> parameter specifies a maximum size to write to a single log file.
                            The <em>backup</em> parameter indicates how many backup log files to preserve. When the
                            maximum size is exceeded, the log files will be renamed by appending a sequential number
                            from zero up to the given path name. The highest number will be the oldest log file.</p>
                            <p>The <em>append</em> option means that new content will be appended to an existing log
                            file, whereas, <em>anew</em> specifies that the log file will be created anew whenever
                            Appweb is restarted.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            
            <a id="errorLog"></a>
            <h2>ErrorLog</h2>
            <table class="directive" title="directive">
                <thead>
                    <tr>
                        <th class="pivot">Description</th>
                        <th>Configure the Appweb diagnostic error log</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="pivot">Synopsis</td>
                        <td>ErrorLog path <br/>
                            &nbsp; &rarr; [size=bytes] <br/>
                            &nbsp; &rarr; [level=0-9] <br/>
                            &nbsp; &rarr; [backup=count] <br/>
                            &nbsp; &rarr; [append] <br/>
                            &nbsp; &rarr; [anew]<br/>
                            &nbsp; &rarr; [stamp=period]</td>
                    </tr>
                    <tr>
                        <td class="pivot">Context</td>
                        <td>Default Server</td>
                    </tr>
                    <tr>
                        <td class="pivot">Example</td>
                        <td>ErrorLog error.log size=1MB level=2 backup=5 append anew stamp=1hr</td>
                    </tr>
                    <tr>
                        <td class="pivot">Notes</td>
                        <td>
                            <p>The ErrorLog directive configures the diagnostic error log for Appweb. There is one
                            such error log and all error messages and trace will be written to this log.</p>
                            The given <em>path</em> may be an absolute filename or it may be
                            relative to the ServerRoot. 
                            <p>The <em>size</em> parameter specifies a maximum size to write to a single log file.
                            The <em>backup</em> parameter indicates how many backup log files to preserve. When the
                            maximum size is exceeded, the log files will be renamed by appending a sequential number
                            from zero up to the given path name. The highest number will be the oldest log file.</p>
                            <p>The <em>append</em> option means that new content will be appended to an existing log
                            file, whereas, <em>anew</em> specifies that the log file will be created anew whenever
                            Appweb is restarted.</p>
                            <p>The <em>level</em> argument defines a
                            logging verbosity level between 0 and 9 with 9 being the most verbose.</p>
                            <p>The following levels are generally observed:</p>
                            <table title="levels">
                                <thead>
                                    <tr>
                                        <th>Level</th>
                                        <th>Usage</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>0</td>
                                        <td>Essential messages, fatal errors and critical warnings</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>Hard errors</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>Configuration setup and soft warnings</td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td>Useful informational messages</td>
                                    </tr>
                                    <tr>
                                        <td>4</td>
                                        <td>Debug information</td>
                                    </tr>
                                    <tr>
                                        <td>5-9</td>
                                        <td>Increasing levels of internal Appweb trace useful for debugging</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p>If Appweb is invoked with a <em>--log</em> or <em>--verbose</em> argument, it will
                            override the ErrorLog directive which will be ignored.</p>
                            <p>A general overview of using log files is discussed in the Administration
                            section on <a href="../logFiles.html">Log Files</a>.</p>
                            <p>The <em>timestamp</em> option controls how frequently time stamps are appended to 
                            the log file. Timestamps are useful to frame the time window in which log file events
                            occurred.</p> 
                        </td>
                    </tr>
                </tbody>
            </table>
            
            <a id="log"></a>
            <h2>Log</h2>
            <table class="directive" title="directive">
                <thead>
                    <tr>
                        <th class="pivot">Description</th>
                        <th>Control the tracing of HTTP messages</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="pivot">Synopsis</td>
                        <td>Log [rx|tx] <br/>
                            &nbsp; &rarr; conn=level <br/>
                            &nbsp; &rarr; first=level <br/>
                            &nbsp; &rarr; headers=level <br/>
                            &nbsp; &rarr; body=level <br/>
                            &nbsp; &rarr; limits=level <br/>
                            &nbsp; &rarr; time=level <br/>
                            &nbsp; &rarr; size=bytes <br/>
                            &nbsp; &rarr; exclude=extensions <br/>
                            &nbsp; &rarr; include=extensions
                        </td>
                    </tr>
                    <tr>
                        <td class="pivot">Context</td>
                        <td>Default Server</td>
                    </tr>
                    <tr>
                        <td class="pivot">Example</td>
                        <td>Log rx conn=5 first=2 headers=3 body=5 limits=5 size=10K <br/>
                            &nbsp; &rarr; exclude="jpg,gif,png,ico,css,js"</td>
                    </tr>
                    <tr>
                        <td class="pivot">Notes</td>
                        <td>
                            <p>The Log directive controls how HTTP messages are traced to the log file.
                            The following classes of information can be traces. 
                            <ul>
                                <li>Conn &mdash; connection oriented events</li>
                                <li>First &mdash; first line of the HTTP header</li>
                                <li>Headers &mdash; full HTTP header</li>
                                <li>Body &mdash; HTTP body content</li>
                                <li>Limits &mdash; Resource limit validation</li>
                                <li>Time &mdash; Request elapsed time (tx only)</li>
                            </ul>
                            <p>For each class, the level defines the log level at which tracing will occur.</p>
                            <p>When tracing is enabled for a HTTP message, the headers and/or body of the message
                            will be written to the log file. Binary body content will be encoded into printable hex
                            characters. Tracing will be limited to at most <em>size</em> bytes per request.</p>
                            <p>The <em>include</em> and <em>exclude</em> define a set of file extensions that will be
                            included or excluded in the trace.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
<!-- BeginDsi "dsi/bottom.html" -->
	<div class="bottom">
		<p class="footnote"> 
            <a href="../../../../product/copyright.html" >&copy; Embedthis Software LLC, 2003-2012.
            All rights reserved. Embedthis, ESP, Ejscript and Appweb are trademarks of Embedthis Software LLC.</a>
		</p>
	</div>
    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript"> 
      google.load('search', '1', {language : 'en'});
      google.setOnLoadCallback(function() {
        var customSearchControl = new google.search.CustomSearchControl(
          '000262706376373952077:1hs0lhenihk');
        customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
        var options = new google.search.DrawOptions();
        options.enableSearchboxOnly("http://appwebserver.org/search.html");
        customSearchControl.draw('cse-search-form', options);
      }, true);
    </script>
</body>
</html>
