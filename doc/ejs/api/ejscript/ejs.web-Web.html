<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   <title>Class Web</title>

   <link rel="stylesheet" type="text/css" href="doc.css" />
</head>

<body>
<div class='body'>

<div class="content">

<a name='top'></a>
<h1 class='className'>Web</h1>
<div class='classBlock'>
<table class='classHead' summary='Web'>
   <tr><td><strong>Module</strong></td><td>ejs.web</td></tr>
   <tr><td><strong>Definition</strong></td><td> class Web</td></tr>
   <tr><td><strong>Inheritance</strong></td><td>Web <img src='images/inherit.gif' alt='inherit'/> <a href='ejs-Object.html'>Object</a><tr><td><strong>Specified</strong></td><td>ejscript-2.0</td></tr>
<tr><td><strong>Stability</strong></td><td>Prototype.</td></tr>
       </td></tr>
</table>

<p class='classBrief'>Web class manages web applications.</p>

<p class='classDescription'>This class initializes the web framework and loads web applications. 
Apps may be JSGI apps with a *..es extension, template apps with a ".ejs" extension or MVC applications.</p>

</div>


<hr />
<a name='Properties'></a>
<h2 class='classSection'>Properties</h2>
<table class='itemTable' summary='properties'>
   <tr><th>Qualifiers</th><th>Property</th><th>Type</th><th width='95%'>Description</th></tr>
<a name='config'></a>
   <tr><td nowrap align='center'>public static </td><td>config</td><td>&nbsp;</td><td>&nbsp;</td></tr>
</table>

<p class='inheritedLink'><a href='ejs-Object.html#Properties'><i>Inherited Properties</i></a></p>

<hr />
<a name='Methods'></a>
<h2 class='classSection'>Web Methods</h2>
<table class='apiIndex' summary='methods'>
   <tr><th>Qualifiers</th><th width='95%'>Method</th></tr>
   <tr class='apiDef'><td class='apiType'>public static const </td><td><a href='#process'><b>process</b></a>(app: <a href='ejs-Function.html'>Function</a>, request: <a href='ejs.web-Request.html'>Request</a>, finalize: <a href='ejs-Boolean.html'>Boolean</a> = true): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Process a web request.</td></tr>
   <tr class='apiDef'><td class='apiType'>public static const </td><td><a href='#run'><b>run</b></a>(address: <a href='ejs-String.html'>String</a>, documentRoot: <a href='ejs-Path.html'>Path</a> = . , serverRoot: <a href='ejs-Path.html'>Path</a> = .): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Convenience routine to run a single web app script.</td></tr>
   <tr class='apiDef'><td class='apiType'>public static const </td><td><a href='#serve'><b>serve</b></a>(request: <a href='ejs.web-Request.html'>Request</a>, router: <a href='ejs.web-Router.html'>Router</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Serve a web request.</td></tr>
   <tr class='apiDef'><td class='apiType'>public static const </td><td><a href='#start'><b>start</b></a>(address: <a href='ejs-String.html'>String</a>, documentRoot: <a href='ejs-Path.html'>Path</a> = . , serverRoot: <a href='ejs-Path.html'>Path</a> = . , routes = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Convenience routine to start a routing web server that will serve a variety of content.</td></tr>
   <tr class='apiDef'><td class='apiType'>public static const </td><td><a href='#worker'><b>worker</b></a>(app: <a href='ejs-Function.html'>Function</a>, request: <a href='ejs.web-Request.html'>Request</a>): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Run the request via a separate worker thread.</td></tr>
</table>

<p class='inheritedLink'><a href='ejs-Object.html#Methods'><i>Inherited Methods</i></a></p>

<hr />
<h2>Method Detail</h2>
<a name='process'></a>
<div class='api'>
<div class='apiSig'>static const   public  process(app: <a href='ejs-Function.html'>Function</a>, request: <a href='ejs.web-Request.html'>Request</a>, finalize: <a href='ejs-Boolean.html'>Boolean</a> = true): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Process a web request.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>request: <a href='ejs.web-Request.html'>Request</a> </td><td>Request object.</td></tr><tr class='param'><td class='param'>app: <a href='ejs-Function.html'>Function</a> </td><td>Web application function.</td></tr><tr class='param'><td class='param'>finalize: <a href='ejs-Boolean.html'>Boolean</a> </td><td> [default: true]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='run'></a>
<div class='api'>
<div class='apiSig'>static const   public  run(address: <a href='ejs-String.html'>String</a>, documentRoot: <a href='ejs-Path.html'>Path</a> = . , serverRoot: <a href='ejs-Path.html'>Path</a> = .): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Convenience routine to run a single web app script.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>address: <a href='ejs-String.html'>String</a> </td><td>The IP endpoint address on which to listen. The address may be a port number or a composite  "IP:PORT" string. If only a port number is provided, the socket will listen on all interfaces on that port.  If null is provided for an endpoint value, an existing web server listening connection will be used. In this case, the web server will typically be the virtual host that specifies the EjsStartup script. See the hosting web server documentation for specifics.</td></tr><tr class='param'><td class='param'>documentRoot: <a href='ejs-Path.html'>Path</a> </td><td>Directory containing web documents to serve. If set to null and the HttpServer is hosted, the documentRoot will be defined by the web server. [default: . ]</td></tr><tr class='param'><td class='param'>serverRoot: <a href='ejs-Path.html'>Path</a> </td><td>Base directory for the server configuration. If set to null and the HttpServer is hosted, the serverRoot will be defined by the web server. [default: .]</td></tr></table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>exports.app = function (request) {
    return { 
        status: Http.Ok,
        body: "Hello World\r\n"
    }
}
</pre></dd></dl>
</div>
</div>
<hr />
<a name='serve'></a>
<div class='api'>
<div class='apiSig'>static const   public  serve(request: <a href='ejs.web-Request.html'>Request</a>, router: <a href='ejs.web-Router.html'>Router</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Serve a web request.</p>
<dl><dt>Description</dt><dd>Convenience function to route, load and start a web application. 
Called by web application start script.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>request: <a href='ejs.web-Request.html'>Request</a> </td><td>Request object.</td></tr><tr class='param'><td class='param'>router: <a href='ejs.web-Router.html'>Router</a> </td><td>Configured router instance. If omitted, a default Router will be created using the Router.Default routing table. [default: expression]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='start'></a>
<div class='api'>
<div class='apiSig'>static const   public  start(address: <a href='ejs-String.html'>String</a>, documentRoot: <a href='ejs-Path.html'>Path</a> = . , serverRoot: <a href='ejs-Path.html'>Path</a> = . , routes = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Convenience routine to start a routing web server that will serve a variety of content.</p>
<dl><dt>Description</dt><dd>This routines
sets up a web server using the specified route tables.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>address: <a href='ejs-String.html'>String</a> </td><td>The IP endpoint address on which to listen. The address may be a port number or a composite  "IP:PORT" string. If only a port number is provided, the socket will listen on all interfaces on that port.  If null is provided for an endpoint value, an existing web server listening connection will be used. In this case, the web server will typically be the virtual host that specifies the EjsStartup script. See the hosting web server documentation for specifics.</td></tr><tr class='param'><td class='param'>documentRoot: <a href='ejs-Path.html'>Path</a> </td><td>Directory containing web documents to serve. If set to null and the HttpServer is hosted, the documentRoot will be defined by the web server. [default: . ]</td></tr><tr class='param'><td class='param'>serverRoot: <a href='ejs-Path.html'>Path</a> </td><td>Base directory for the server configuration. If set to null and the HttpServer is hosted, the serverRoot will be defined by the web server. [default: . ]</td></tr><tr class='param'><td class='param'>routes </td><td>Route table to use. Defaults to Router.Default. [default: expression]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='worker'></a>
<div class='api'>
<div class='apiSig'>static const   public  worker(app: <a href='ejs-Function.html'>Function</a>, request: <a href='ejs.web-Request.html'>Request</a>): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Run the request via a separate worker thread.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>app: <a href='ejs-Function.html'>Function</a> </td><td>Application function to run.</td></tr><tr class='param'><td class='param'>request: <a href='ejs.web-Request.html'>Request</a> </td><td>Request object.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<div class="terms">
   <p class="terms">
       <a href="http://www.embedthis.com/">       Embedthis Software LLC, 2003-2011. All rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
   </p>
</div></div>
</div>
</body>
</html>
