<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   <title>Class BinaryStream</title>

   <link rel="stylesheet" type="text/css" href="doc.css" />
</head>

<body>
<div class='body'>

<div class="content">

<a name='top'></a>
<h1 class='className'>BinaryStream</h1>
<div class='classBlock'>
<table class='classHead' summary='BinaryStream'>
   <tr><td><strong>Module</strong></td><td>ejs</td></tr>
   <tr><td><strong>Definition</strong></td><td> class BinaryStream</td></tr>
   <tr><td><strong>Inheritance</strong></td><td>BinaryStream <img src='images/inherit.gif' alt='inherit'/> <a href='ejs-Object.html'>Object</a>       </td></tr>
</table>

<p class='classBrief'>Create a new BinaryStream.</p>

<p class='classDescription'></p>

</div>


<hr />
<a name='Properties'></a>
<h2 class='classSection'>Properties</h2>
<table class='itemTable' summary='properties'>
   <tr><th>Qualifiers</th><th>Property</th><th>Type</th><th width='95%'>Description</th></tr>
<a name='BigEndian'></a>
   <tr><td nowrap align='center'>public static const </td><td>BigEndian</td><td><a href='ejs-Number.html'>Number</a></td><td>Big endian byte order. </td></tr>
<a name='LittleEndian'></a>
   <tr><td nowrap align='center'>public static const </td><td>LittleEndian</td><td><a href='ejs-Number.html'>Number</a></td><td>Little endian byte order. </td></tr>
<a name='available'></a>
   <tr><td nowrap align='left'>public const get </td><td>available</td><td><a href='ejs-Number.html'>Number</a></td><td>The number of bytes available to read without blocking. This is the number of bytes internally buffered
in the binary stream and does not include any data buffered downstream.</td></tr>
</table>

<p class='inheritedLink'><a href='ejs-Object.html#Properties'><i>Inherited Properties</i></a></p>

<hr />
<a name='Methods'></a>
<h2 class='classSection'>BinaryStream Methods</h2>
<table class='apiIndex' summary='methods'>
   <tr><th>Qualifiers</th><th width='95%'>Method</th></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#close'><b>close</b></a>(): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Close the stream.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#flush'><b>flush</b></a>(dir: <a href='ejs-Number.html'>Number</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Flush the stream and underlying streams.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#off'><b>off</b></a>(name, observer: <a href='ejs-Function.html'>Function</a>): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Remove an observer from the stream.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#on'><b>on</b></a>(name, observer: <a href='ejs-Function.html'>Function</a>): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Add an observer to the stream for the named events.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#read'><b>read</b></a>(buffer: <a href='ejs-ByteArray.html'>ByteArray</a>, offset: <a href='ejs-Number.html'>Number</a> = 0 , count: <a href='ejs-Number.html'>Number</a> = -1): <a href='ejs-Number.html'>Number</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Read a data from the stream.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#readBoolean'><b>readBoolean</b></a>(): <a href='ejs-Boolean.html'>Boolean</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Read a boolean from the stream.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#readByte'><b>readByte</b></a>(): <a href='ejs-Number.html'>Number</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Read a byte from the stream.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#readDate'><b>readDate</b></a>(): <a href='ejs-Date.html'>Date</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Read a date from the stream.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#readDouble'><b>readDouble</b></a>()</tr><tr class='apiBrief'><td>&nbsp;</td><td>Read a double from the stream.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#readInteger'><b>readInteger</b></a>(): <a href='ejs-Number.html'>Number</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Read a 32-bit integer from the stream.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#readLong'><b>readLong</b></a>(): <a href='ejs-Number.html'>Number</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Read a 64-bit long from the stream.The data will be decoded according to the encoding property.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#readString'><b>readString</b></a>(count: <a href='ejs-Number.html'>Number</a> = -1): <a href='ejs-String.html'>String</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Read a UTF-8 string from the stream.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#readXML'><b>readXML</b></a>(): <a href='ejs-XML.html'>XML</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Read an XML document from the stream.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#room'><b>room</b></a>(): <a href='ejs-Number.html'>Number</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Return the space available for write data.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#write'><b>write</b></a>(items: <a href='ejs-Array.html'>Array</a>): <a href='ejs-Number.html'>Number</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Write data to the stream.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#writeByte'><b>writeByte</b></a>(data: <a href='ejs-Number.html'>Number</a>): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Write a byte to the array.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#writeDouble'><b>writeDouble</b></a>(data: <a href='ejs-Number.html'>Number</a>): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Write a double to the array.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#writeInteger'><b>writeInteger</b></a>(data: <a href='ejs-Number.html'>Number</a>): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Write a 32-bit integer to the array.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#writeLong'><b>writeLong</b></a>(data: <a href='ejs-Number.html'>Number</a>): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Write a 64 bit long integer to the array.</td></tr>
   <tr class='apiDef'><td class='apiType'>public const </td><td><a href='#writeShort'><b>writeShort</b></a>(data: <a href='ejs-Number.html'>Number</a>): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Write a short to the array.</td></tr>
</table>

<p class='inheritedLink'><a href='ejs-Object.html#Methods'><i>Inherited Methods</i></a></p>

<hr />
<h2>Method Detail</h2>
<a name='close'></a>
<div class='api'>
<div class='apiSig'>const   public  close(): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Close the stream.</p>
<dl><dt>Events</dt>
<dd><table class='parameters' summary ='events'>
<td class='param'>close</td><td>A close event is issued before closing the stream.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='flush'></a>
<div class='api'>
<div class='apiSig'>const   public  flush(dir: <a href='ejs-Number.html'>Number</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Flush the stream and underlying streams.</p>
<dl><dt>Description</dt><dd>A supplied flush <a href='#direction'>direction</a> argument modifies the effect of this call.
If direction is set to Stream.READ, then all read data is discarded. If direction is set to Stream.WRITE, 
any buffered data is written. Stream.BOTH will cause both directions to be flushed.  If the stream is in 
sync mode, this call will block until all data is written. If the stream is in async mode, it will attempt 
to write all data but will return immediately</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>dir: <a href='ejs-Number.html'>Number</a> </td><td> [default: expression]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='off'></a>
<div class='api'>
<div class='apiSig'>const   public  off(name, observer: <a href='ejs-Function.html'>Function</a>): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Remove an observer from the stream.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>name </td><td>Event name previously used with observe. The name may be an array of events.</td></tr><tr class='param'><td class='param'>observer: <a href='ejs-Function.html'>Function</a> </td><td>Observer function previously used with observe.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='on'></a>
<div class='api'>
<div class='apiSig'>const   public  on(name, observer: <a href='ejs-Function.html'>Function</a>): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Add an observer to the stream for the named events.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>name </td><td>Name of the event to listen for. The name may be an array of events.</td></tr><tr class='param'><td class='param'>observer: <a href='ejs-Function.html'>Function</a> </td><td>Callback observer function. The function is called with the following signature: function observer(event: String, ...args): Void.</td></tr></table></dd>
</dl><dl><dt>Events</dt>
<dd><table class='parameters' summary ='events'>
<td class='param'>readable</td><td>Issued when the stream becomes readable.</td></tr>
<td class='param'>writable</td><td>Issued when the stream becomes writable.</td></tr>
<td class='param'>close</td><td>Issued when stream is being closed.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='read'></a>
<div class='api'>
<div class='apiSig'>const   public  read(buffer: <a href='ejs-ByteArray.html'>ByteArray</a>, offset: <a href='ejs-Number.html'>Number</a> = 0 , count: <a href='ejs-Number.html'>Number</a> = -1): <a href='ejs-Number.html'>Number</a>
</div>
<div class='apiDetail'>
<p>Read a data from the stream.</p>
<dl><dt>Description</dt><dd>If data is available, the call will return immediately. 
If no data is available and the stream is in sync mode, the call will block until data is available.
If no data is available and the stream is in async mode, the call will not block and will return immediately.
In this case a "readable" event will be issued when data is available for reading.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>buffer: <a href='ejs-ByteArray.html'>ByteArray</a> </td><td>Destination byte array for read data.</td></tr><tr class='param'><td class='param'>offset: <a href='ejs-Number.html'>Number</a> </td><td>Offset in the byte array to place the data. If the offset is -1, then data is appended to the buffer write <a href='#position'>position</a> which is then updated [default: 0 ]</td></tr><tr class='param'><td class='param'>count: <a href='ejs-Number.html'>Number</a> </td><td>Read up to this number of bytes. If -1, read as much as the buffer will hold up. If the  stream is of fixed and known length (such as a file) and the buffer is of sufficient size or is growable,  read the entire stream. [default: -1]</td></tr><tr class='param'><td class='param'>offset: <a href='ejs-Number.html'>Number</a> </td><td> [default: 0 ]</td></tr><tr class='param'><td class='param'>count: <a href='ejs-Number.html'>Number</a> </td><td> [default: -1]</td></tr></table></dd>
</dl><dl><dt>Events</dt>
<dd><table class='parameters' summary ='events'>
<td class='param'>readable</td><td>Issued when there is new read data available.</td></tr>
<td class='param'>writable</td><td>Issued when the stream becomes empty.</td></tr>
</table></dd>
</dl><dl><dt>Returns</dt>
<dd>A count of the bytes actually read. Returns null on eof.</dd></dl>
</div>
</div>
<hr />
<a name='readBoolean'></a>
<div class='api'>
<div class='apiSig'>const   public  readBoolean(): <a href='ejs-Boolean.html'>Boolean</a>
</div>
<div class='apiDetail'>
<p>Read a boolean from the stream.</p>
<dl><dt>Returns</dt>
<dd>A boolean. Returns null on eof.</dd></dl>
<dl><dt>Throws</dt><dd>
<a href='ejs-IOError.html'>IOError</a>: if an I/O error occurs. 
</dd>
</dl></div>
</div>
<hr />
<a name='readByte'></a>
<div class='api'>
<div class='apiSig'>const   public  readByte(): <a href='ejs-Number.html'>Number</a>
</div>
<div class='apiDetail'>
<p>Read a byte from the stream.</p>
<dl><dt>Returns</dt>
<dd>A byte. Returns -1 on eof.</dd></dl>
<dl><dt>Throws</dt><dd>
<a href='ejs-IOError.html'>IOError</a>: if an I/O error occurs. 
</dd>
</dl></div>
</div>
<hr />
<a name='readDate'></a>
<div class='api'>
<div class='apiSig'>const   public  readDate(): <a href='ejs-Date.html'>Date</a>
</div>
<div class='apiDetail'>
<p>Read a date from the stream.</p>
<dl><dt>Returns</dt>
<dd>A date.</dd></dl>
<dl><dt>Throws</dt><dd>
<a href='ejs-IOError.html'>IOError</a>: if an I/O error occurs or premature eof 
</dd>
</dl></div>
</div>
<hr />
<a name='readDouble'></a>
<div class='api'>
<div class='apiSig'>const   public  readDouble()
</div>
<div class='apiDetail'>
<p>Read a double from the stream.</p>
<dl><dt>Description</dt><dd>The data will be decoded according to the encoding property.</dd></dl>
<dl><dt>Returns</dt>
<dd>A double.</dd></dl>
<dl><dt>Throws</dt><dd>
<a href='ejs-IOError.html'>IOError</a>: if an I/O error occurs or premature eof 
</dd>
</dl></div>
</div>
<hr />
<a name='readInteger'></a>
<div class='api'>
<div class='apiSig'>const   public  readInteger(): <a href='ejs-Number.html'>Number</a>
</div>
<div class='apiDetail'>
<p>Read a 32-bit integer from the stream.</p>
<dl><dt>Description</dt><dd>The data will be decoded according to the encoding property.</dd></dl>
<dl><dt>Returns</dt>
<dd>An 32-bitinteger.</dd></dl>
<dl><dt>Throws</dt><dd>
<a href='ejs-IOError.html'>IOError</a>: if an I/O error occurs or premature eof 
</dd>
</dl></div>
</div>
<hr />
<a name='readLong'></a>
<div class='api'>
<div class='apiSig'>const   public  readLong(): <a href='ejs-Number.html'>Number</a>
</div>
<div class='apiDetail'>
<p>Read a 64-bit long from the stream.The data will be decoded according to the encoding property.</p>
<dl><dt>Returns</dt>
<dd>A 64-bit long number.</dd></dl>
<dl><dt>Throws</dt><dd>
<a href='ejs-IOError.html'>IOError</a>: if an I/O error occurs or premature eof 
</dd>
</dl></div>
</div>
<hr />
<a name='readString'></a>
<div class='api'>
<div class='apiSig'>const   public  readString(count: <a href='ejs-Number.html'>Number</a> = -1): <a href='ejs-String.html'>String</a>
</div>
<div class='apiDetail'>
<p>Read a UTF-8 string from the stream.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>count: <a href='ejs-Number.html'>Number</a> </td><td>Of bytes to read. Returns the entire stream contents if count is -1. [default: -1]</td></tr></table></dd>
</dl><dl><dt>Returns</dt>
<dd>A string.</dd></dl>
<dl><dt>Throws</dt><dd>
<a href='ejs-IOError.html'>IOError</a>: if an I/O error occurs or premature eof.  
</dd>
</dl></div>
</div>
<hr />
<a name='readXML'></a>
<div class='api'>
<div class='apiSig'>const   public  readXML(): <a href='ejs-XML.html'>XML</a>
</div>
<div class='apiDetail'>
<p>Read an XML document from the stream.</p>
<dl><dt>Description</dt><dd>This assumes the XML document will be the only data until eof.</dd></dl>
<dl><dt>Returns</dt>
<dd>An XML document.</dd></dl>
<dl><dt>Throws</dt><dd>
<a href='ejs-IOError.html'>IOError</a>: if an I/O error occurs or premature eof 
</dd>
</dl></div>
</div>
<hr />
<a name='room'></a>
<div class='api'>
<div class='apiSig'>const   public  room(): <a href='ejs-Number.html'>Number</a>
</div>
<div class='apiDetail'>
<p>Return the space available for write data.</p>
<dl><dt>Description</dt><dd>This call can be used to prevent write from blocking or 
doing partial writes. If it cannot be determined how much room is available, this call will return null.</dd></dl>
<dl><dt>Returns</dt>
<dd>The number of bytes that can be written without blocking or null if it cannot be determined.</dd></dl>
</div>
</div>
<hr />
<a name='write'></a>
<div class='api'>
<div class='apiSig'>const   public  write(items: <a href='ejs-Array.html'>Array</a>): <a href='ejs-Number.html'>Number</a>
</div>
<div class='apiDetail'>
<p>Write data to the stream.</p>
<dl><dt>Description</dt><dd>Write intelligently encodes various data types onto the stream and will encode 
data in a portable cross-platform manner according to the setting of the <a href='#endian'>endian</a> property. If data is an 
array, each element of the array will be written.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>items: <a href='ejs-Array.html'>Array</a> </td><td>Data items to write. The ByteStream class intelligently encodes various data types according  to the current setting of the <a href='#endian'>endian</a> property.</td></tr></table></dd>
</dl><dl><dt>Returns</dt>
<dd>The total number of bytes that were written.</dd></dl>
<dl><dt>Throws</dt><dd>
<a href='ejs-IOError.html'>IOError</a>: if there is an I/O error. 
</dd>
</dl></div>
</div>
<hr />
<a name='writeByte'></a>
<div class='api'>
<div class='apiSig'>const   public  writeByte(data: <a href='ejs-Number.html'>Number</a>): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Write a byte to the array.</p>
<dl><dt>Description</dt><dd>Data is written to the current write <a href='#position'>position</a> pointer.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>data: <a href='ejs-Number.html'>Number</a> </td><td>Data to write.</td></tr></table></dd>
</dl><dl><dt>Events</dt>
<dd><table class='parameters' summary ='events'>
<td class='param'>readable</td><td>Issued when data is written and a consumer can read without blocking.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='writeDouble'></a>
<div class='api'>
<div class='apiSig'>const   public  writeDouble(data: <a href='ejs-Number.html'>Number</a>): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Write a double to the array.</p>
<dl><dt>Description</dt><dd>Data is written to the current write <a href='#position'>position</a> pointer.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>data: <a href='ejs-Number.html'>Number</a> </td><td>Data to write.</td></tr></table></dd>
</dl><dl><dt>Events</dt>
<dd><table class='parameters' summary ='events'>
<td class='param'>readable</td><td>Issued when data is written and a consumer can read without blocking.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='writeInteger'></a>
<div class='api'>
<div class='apiSig'>const   public  writeInteger(data: <a href='ejs-Number.html'>Number</a>): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Write a 32-bit integer to the array.</p>
<dl><dt>Description</dt><dd>Data is written to the current write <a href='#position'>position</a> pointer.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>data: <a href='ejs-Number.html'>Number</a> </td><td>Data to write.</td></tr></table></dd>
</dl><dl><dt>Events</dt>
<dd><table class='parameters' summary ='events'>
<td class='param'>readable</td><td>Issued when data is written and a consumer can read without blocking.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='writeLong'></a>
<div class='api'>
<div class='apiSig'>const   public  writeLong(data: <a href='ejs-Number.html'>Number</a>): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Write a 64 bit long integer to the array.</p>
<dl><dt>Description</dt><dd>Data is written to the current write <a href='#position'>position</a> pointer.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>data: <a href='ejs-Number.html'>Number</a> </td><td>Data to write.</td></tr></table></dd>
</dl><dl><dt>Events</dt>
<dd><table class='parameters' summary ='events'>
<td class='param'>readable</td><td>Issued when data is written and a consumer can read without blocking.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='writeShort'></a>
<div class='api'>
<div class='apiSig'>const   public  writeShort(data: <a href='ejs-Number.html'>Number</a>): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Write a short to the array.</p>
<dl><dt>Description</dt><dd>Data is written to the current write <a href='#position'>position</a> pointer.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>data: <a href='ejs-Number.html'>Number</a> </td><td>Data to write.</td></tr></table></dd>
</dl><dl><dt>Events</dt>
<dd><table class='parameters' summary ='events'>
<td class='param'>readable</td><td>Issued when data is written and a consumer can read without blocking.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<div class="terms">
   <p class="terms">
       <a href="http://www.embedthis.com/">       Embedthis Software LLC, 2003-2010. All rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
   </p>
</div></div>
</div>
</body>
</html>
